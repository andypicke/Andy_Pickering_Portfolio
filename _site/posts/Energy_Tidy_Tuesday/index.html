<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.527">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="dcterms.date" content="2023-06-17">
<title>Andy Pickering - Tidy Tuesday Energy Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../profile2.jpg" rel="icon" type="image/jpeg">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script src="../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script><link href="../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../../site_libs/datatables-binding-0.30/datatables.js"></script><script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><link href="../../site_libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../../site_libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../../site_libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script><link href="../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><script src="../../site_libs/plotly-binding-4.10.3/plotly.js"></script><script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script><link href="../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script><link rel="stylesheet" href="../../styles.css">
</head>
<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Andy Pickering</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resume.html"> 
<span class="menu-text">Resume</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources.html"> 
<span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../publications.html"> 
<span class="menu-text">Publications</span></a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/andypicke/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/andypicke/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/andypicke"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <div class="quarto-title-block"><div><h1 class="title">Tidy Tuesday Energy Analysis</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
                                <div class="quarto-categories">
                <div class="quarto-category">energy</div>
                <div class="quarto-category">TidyTuesday</div>
                <div class="quarto-category">R</div>
                <div class="quarto-category">visualization</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 17, 2023</p>
      </div>
    </div>
    
      <div>
      <div class="quarto-title-meta-heading">Modified</div>
      <div class="quarto-title-meta-contents">
        <p class="date-modified">January 7, 2024</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li>
<a href="#tidy-tuesday-energy-2023---week-23" id="toc-tidy-tuesday-energy-2023---week-23" class="nav-link active" data-scroll-target="#tidy-tuesday-energy-2023---week-23">Tidy Tuesday: Energy (2023 - Week 23)</a>
  <ul class="collapse">
<li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li>
<a href="#analysis-and-visualization" id="toc-analysis-and-visualization" class="nav-link" data-scroll-target="#analysis-and-visualization">Analysis and Visualization</a>
  <ul class="collapse">
<li><a href="#share-of-electricity-generation-by-fuel-type" id="toc-share-of-electricity-generation-by-fuel-type" class="nav-link" data-scroll-target="#share-of-electricity-generation-by-fuel-type">Share of electricity generation by fuel type</a></li>
  <li><a href="#total-fossil-renewables-and-nuclear-shares" id="toc-total-fossil-renewables-and-nuclear-shares" class="nav-link" data-scroll-target="#total-fossil-renewables-and-nuclear-shares">Total Fossil, renewables, and nuclear shares</a></li>
  <li><a href="#breakdown-of-fossil-fuel-shares" id="toc-breakdown-of-fossil-fuel-shares" class="nav-link" data-scroll-target="#breakdown-of-fossil-fuel-shares">Breakdown of fossil fuel shares</a></li>
  <li><a href="#renewables-breakdown" id="toc-renewables-breakdown" class="nav-link" data-scroll-target="#renewables-breakdown">Renewables breakdown</a></li>
  </ul>
</li>
  </ul>
</li>
  <li>
<a href="#sessioninfo" id="toc-sessioninfo" class="nav-link" data-scroll-target="#sessioninfo">SessionInfo</a>
  <ul class="collapse">
<li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content"><section id="tidy-tuesday-energy-2023---week-23" class="level1"><h1>Tidy Tuesday: Energy (2023 - Week 23)</h1>
<section id="introduction" class="level2"><h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>In this document I’ll analyze and visualize some energy data that were the focus of <a href="https://github.com/rfordatascience/tidytuesday/tree/master/data/2023/2023-06-06">Tidy Tuesday 2023 week 23</a>. The data comes from <a href="https://ourworldindata.org/about">Our World In Data</a> and the full data set is available <a href="https://github.com/owid/energy-data">here</a>. Data Source Citation: <span class="citation" data-cites="owidenergy">Ritchie, Roser, and Rosado (<a href="#ref-owidenergy" role="doc-biblioref">2022</a>)</span>.</p>
</section><section id="analysis-and-visualization" class="level2"><h2 class="anchored" data-anchor-id="analysis-and-visualization">Analysis and Visualization</h2>
<p>I’ll start by loading the <em>tidyverse</em> (<span class="citation" data-cites="tidyverse-2">Wickham et al. (<a href="#ref-tidyverse-2" role="doc-biblioref">2019</a>)</span>) library and the data set. The result is a dataframe with a row for each country and year, from 1900-2002.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://plotly-r.com">plotly</a></span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html">theme_set</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_grey</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">owid_energy</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-06-06/owid-energy.csv"</span>, show_col_types <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">owid_energy</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 129
  country      year iso_code population   gdp biofuel_cons_change_pct
  &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;dbl&gt;                   &lt;dbl&gt;
1 Afghanistan  1900 AFG         4832414    NA                      NA
2 Afghanistan  1901 AFG         4879685    NA                      NA
3 Afghanistan  1902 AFG         4935122    NA                      NA
4 Afghanistan  1903 AFG         4998861    NA                      NA
5 Afghanistan  1904 AFG         5063419    NA                      NA
6 Afghanistan  1905 AFG         5128808    NA                      NA
# ℹ 123 more variables: biofuel_cons_change_twh &lt;dbl&gt;,
#   biofuel_cons_per_capita &lt;dbl&gt;, biofuel_consumption &lt;dbl&gt;,
#   biofuel_elec_per_capita &lt;dbl&gt;, biofuel_electricity &lt;dbl&gt;,
#   biofuel_share_elec &lt;dbl&gt;, biofuel_share_energy &lt;dbl&gt;,
#   carbon_intensity_elec &lt;dbl&gt;, coal_cons_change_pct &lt;dbl&gt;,
#   coal_cons_change_twh &lt;dbl&gt;, coal_cons_per_capita &lt;dbl&gt;,
#   coal_consumption &lt;dbl&gt;, coal_elec_per_capita &lt;dbl&gt;, …</code></pre>
</div>
</div>
<ul>
<li>How many countries are in the dataset?</li>
</ul>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">owid_energy</span><span class="op">$</span><span class="va">country</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 306</code></pre>
</div>
</div>
<p>That’s a lot! I’ll focus on just the United States for now.</p>
<ul>
<li>I also noticed that the data set goes back to 1900 but a a lot of the data for earlier years are missing/NA so I’ll filter those out as well.</li>
<li>It looks like we have data for the USA from 2000-2021.</li>
</ul>
<p>Make a new dataframe for just the USA data and remove years without data:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">usa</span> <span class="op">&lt;-</span> <span class="va">owid_energy</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op">==</span> <span class="st">"United States"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">electricity_demand</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">usa</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span>rownames <span class="op">=</span> <span class="cn">FALSE</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>pageLength <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-0a0a8cc617ad7dd43e18" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-0a0a8cc617ad7dd43e18">{"x":{"filter":"none","vertical":false,"data":[["United States","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States"],[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],["USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA"],[282398560,285470496,288350240,291109824,293947872,296842656,299753088,302743392,305694912,308512032,311182848,313876608,316651328,319375168,322033952,324607776,327210208,329791232,332140032,334319680,335942016,336997632],[12973842104320,13100471287808,13334491430912,13708808945664,14227881328640,14703731408896,15095884152832,15364464312320,15319731011584,14894294368256,15270622003200,15509302018048,15849635184640,16108428984320,16482662612992,16902578503680,17162557194240,17596283879424,18140645818368,null,null,null],[14.606,6.239,19.461,35.669,26.232,16.846,40.143,26.305,36.596,13.607,14.967,8.285,0.193,10.388,1.432,4.631,8.488,0.202,-1.325,2.78,-9.029,8.871],[4.716,2.309,7.651,16.751,16.713,13.549,37.725,34.643,60.875,30.918,38.636,24.587,0.619,33.447,5.089,16.696,32.017,0.825,-5.433,11.25,-37.549,33.559],[131.032,137.709,162.866,218.864,273.609,316.583,439.362,549.454,743.287,836.716,953.6950000000001,1023.843,1016.827,1112.88,1119.494,1162.053,1250.661,1243.374,1218.223,1243.93,1126.15,1222.205],[37.003,39.312,46.962,63.713,80.42700000000001,93.97499999999999,131.7,166.344,227.219,258.137,296.773,321.36,321.98,355.426,360.515,377.211,409.229,410.054,404.621,415.87,378.321,411.88],[215.051,174.274,186.267,183.23,182.141,182.858,183.017,183.456,180.016,176.622,180.248,180.549,181.967,190.56,198.706,196.021,191.803,190.211,186.156,172.021,162.826,160.98],[60.73,49.75,53.71,53.34,53.54,54.28,54.86,55.54,55.03,54.49,56.09,56.67,57.62,60.86,63.99,63.63,62.76,62.73,61.83,57.51,54.7,54.25],[1.597,1.335,1.397,1.379,1.355,1.345,1.356,1.341,1.34,1.383,1.363,1.386,1.426,1.501,1.562,1.558,1.535,1.548,1.472,1.383,1.353,1.307],[0.139,0.152,0.179,0.242,0.299,0.349,0.493,0.615,0.86,1.028,1.144,1.249,1.285,1.381,1.387,1.465,1.591,1.588,1.512,1.565,1.538,1.595],[532.606,535.381,526.745,531.9880000000001,528.833,530.549,521.925,524.9690000000001,518.419,496.259,501.337,484.122,470.467,470.62,467.311,447.663,429.437,416.784,412.062,392.776,369.392,379.383],[4.426,-2.946,-0.047,1.903,0.651,1.47,-1.533,1.347,-1.591,-12.044,5.803,-5.646,-11.596,3.8,-0.227,-13.606,-8.507999999999999,-2.731,-4.234,-14.609,-18.863,14.88],[266.441,-185.221,-2.861,116.083,40.445,91.974,-97.274,84.167,-100.795,-750.678,318.165,-327.47,-634.667,183.867,-11.416,-681.778,-368.337,-108.148,-163.134,-538.999,-594.279,380.367],[22261.219,21372.84,21149.467,21347.74,21279.223,21381.551,20849.436,20921.512,20389.789,17770.381,18640.299,17437.016,15279.911,15725.304,15560.023,13336.334,12104.576,11681.913,11108.142,9423.495000000001,7608.996,8713.853999999999],[6286.536,6101.315,6098.454,6214.537,6254.982,6346.957,6249.683,6333.85,6233.055,5482.376,5800.542,5473.071,4838.404,5022.271,5010.856,4329.078,3960.741,3852.593,3689.458,3150.46,2556.181,2936.548],[6962.748,6669.551,6704.104,6780.053,6730.105,6780.932,6640.499,6660.625,6496.02,5691.512,5936.349,5522.648,4781.411,4950.635,4911.625,4166.259,3787.015,3656.374,3460.86,2886.339,2302.153,2664.381],[1966.27,1903.96,1933.13,1973.74,1978.3,2012.87,1990.51,2016.46,1985.8,1755.9,1847.29,1733.43,1514.04,1581.11,1581.71,1352.4,1239.15,1205.84,1149.49,964.96,773.39,897.89],[-2.402,3.57,-3.461,-2.809,3.433,1.458,2.607,-1.248,1.527,-9.34,1.917,0.831,-6.951,-3.267,1.422,-11.533,-18.271,6.534,-1.676,-7.21,-24.92,8.573],[-155.799,225.963,-226.868,-177.791,211.163,92.73699999999999,168.256,-82.629,99.852,-620.218,115.405,51.001,-430.02,-188.096,79.182,-651.388,-912.933,266.804,-72.92700000000001,-308.397,-989.092,255.485],[22414.98,22965.318,21949.186,21130.383,21644.74,21746.072,22096.248,21605.061,21723.098,19514.387,19717.758,19711.023,18180.277,17436.275,17538.199,15392.445,12479.973,13191.311,12878.457,11872.033,8870.466,9600.800999999999],[6329.958,6555.921,6329.053,6151.262,6362.425,6455.162,6623.418,6540.789,6640.641,6020.423,6135.828,6186.829,5756.809,5568.713,5647.896,4996.507,4083.574,4350.378,4277.451,3969.054,2979.962,3235.447],[51.715,51.078,50.287,51.015,50.059,49.885,49.186,48.677,48.345,44.568,44.903,42.394,37.47,38.986,38.616,33.115,30.315,29.757,27.359,23.205,19.128,21.624],[23.682,23.546,23.19,23.558,23.255,23.586,23.409,23.403,23.605,21.837,22.351,21.274,19.317,19.521,19.275,16.814,15.398,14.922,13.786,11.856,10.394,11.371],[3835.86,3749.6,3865.21,3875.36,3963.26,4059.77,4065.36,4173.82,4140.35,3973.87,4139.92,4126.12,4087.93,4113.49,4149.22,4150.66,4154.06,4108.62,4246.01,4197.42,4090.49,4191.53],[3802.1,3727.57,3844.23,3868.94,3951.95,4034.99,4046.94,4142.57,4107.53,3939.82,4113.94,4088.87,4040.67,4055.61,4096.01,4083.99,4087.56,4052.31,4201.55,4158.38,4043.18,4152.22],[14.323,14.385,14.618,14.666,14.693,14.994,15.158,15.307,15.556,15.693,15.852,15.894,16.132,15.764,15.756,15.862,15.891,15.695,15.699,15.65,16.44,16.078],[2.235,-2.383,1.486,0.313,1.961,0.047,-0.788,1.37,-2.432,-4.923,3.371,-0.87,-2.636,2.714,1.043,-0.959,-0.093,0.373,3.654,-0.713,-7.446,5.01],[580.3200000000001,-632.645,385.066,82.264,517.438,12.584,-212.014,365.668,-658.271,-1299.984,846.3339999999999,-225.801,-678.199,679.885,268.469,-249.186,-23.881,95.879,943.441,-190.812,-1978.438,1232.238],[93999.859,90772.18799999999,91201.06200000001,90619.102,91504.484,90654.531,89067.039,89395.141,86378.656,81376.17999999999,83397.477,81962.352,79102.352,80556.516,80725.086,79317.367,78613.539,78289.016,80575.875,79479.79700000001,73206.75,76633.95299999999],[2.046,1.978,1.972,1.924,1.89,1.83,1.769,1.761,1.724,1.686,1.699,1.659,1.58,1.597,1.577,1.523,1.499,1.467,1.475,null,null,null],[2.764,-2.066,0.867,0.428,1.992,0.059,-1.389,1.685,-3.314,-6.14,3.635,-1.912,-2.563,2.491,0.952,-1.237,-1.119,-0.481,4.205,-1.193,-9.269,5.572],[624.76,-479.832,197.234,98.14100000000001,459.006,13.84,-326.596,390.619,-781.326,-1399.76,777.801,-423.967,-557.518,527.8339999999999,206.674,-271.137,-242.283,-103.016,896.049,-265.031,-2033.705,1109.158],[9551.324000000001,9383.387000000001,9460.128000000001,9467.32,9587.687,9769.351000000001,9603.103999999999,9870.537,9565.779,8834.048000000001,9263.011,8885.433999999999,8776.277,8598.696,8545.714,8411.136,8120.04,7702.357,8012.584,7741.722,7239.047,7455.394],[2697.28,2678.68,2727.83,2756.03,2818.28,2899.96,2878.56,2988.24,2924.21,2725.41,2882.49,2788.93,2779.02,2746.21,2752.01,2730.32,2656.96,2540.17,2661.3,2588.21,2431.9,2512.45],[82240.42200000001,79674.586,79562.891,79145.79700000001,79943.17200000001,79210.19500000001,77351.56200000001,77877.79700000001,74569.977,69351.92200000001,71256.18799999999,69293.906,66926.039,68007.961,68088.242,66713.094,65442.051,64617.52,66858.367,65629.727,59259.047,62364.715],[23224.576,22744.744,22941.979,23040.119,23499.125,23512.965,23186.369,23576.988,22795.662,21395.902,22173.703,21749.736,21192.219,21720.053,21926.727,21655.59,21413.307,21310.291,22206.34,21941.309,19907.604,21016.762],[70.94199999999999,71.861,70.959,71.235,71.31399999999999,71.87,71.129,72.13500000000001,71.191,69.176,70.066,68.208,68.776,67.714,67.188,66.854,65.001,62.684,63.341,62.241,60.148,60.509],[87.48999999999999,87.774,87.239,87.339,87.36499999999999,87.376,86.846,87.116,86.32899999999999,85.224,85.44199999999999,84.544,84.607,84.423,84.346,84.10899999999999,83.245,82.53700000000001,82.976,82.574,80.94799999999999,81.38],[3.993,-4.413,3.239,-2.89,0.405,-1.56,-1.447,6.403,0.762,-1.791,4.949,1.545,4.544,2.747,2.155,2.952,0.742,-1.216,11.044,3.526,-2.209,-0.623],[241.279,-277.327,194.532,-179.211,24.376,-94.34699999999999,-86.152,375.605,47.529,-112.631,305.654,100.173,299.12,189,152.376,213.19,55.194,-91.06699999999999,817.227,289.768,-187.893,-51.851],[6283.907,6006.58,6201.112,6021.9,6046.277,5951.93,5865.778,6241.383,6288.912,6176.281,6481.935,6582.108,6881.228,7070.228,7222.604,7435.795,7490.989,7399.922,8217.148999999999,8506.916999999999,8319.023999999999,8267.174000000001],[2177.738,2238.865,2396.426,2232.525,2415.734,2563.513,2723.708,2961.551,2888.435,2985.232,3174.018,3229.581,3871.419,3522.002,3498.42,4107.973,4212.308,3931.093,4423.225,4743.395,4834.674,4686.561],[614.99,639.13,691.01,649.91,710.1,760.96,816.4400000000001,896.59,882.98,920.98,987.7,1013.69,1225.89,1124.84,1126.61,1333.48,1378.31,1296.44,1469.13,1585.81,1624.17,1579.36],[22251.908,21040.982,21505.484,20686.01,20569.215,20050.789,19568.699,20616.082,20572.512,20019.578,20829.986,20970.367,21731.246,22137.689,22428.084,22907.014,22893.508,22438.203,24740.016,25445.457,24763.275,24531.846],[1.659,2.564,-3.885,1.296,-2.847,-2.717,2.51,4.019,4.633,2.109,3.152,7.337,5.146,1.012,7.478,5.048,-1.749,2.587,12.7,10.366,-1.316,1.998],[84.623,132.947,-206.662,66.271,-147.457,-136.693,122.833,201.648,241.786,115.15,175.75,422.011,317.663,65.679,490.337,355.768,-129.471,188.146,947.654,871.75,-122.113,183.034],[18364.127,18632.223,17729.438,17789.02,17115.623,16488.225,16737.912,17238.654,17863.152,18073.283,18482.943,19668.83,20499.672,20530.486,21883.607,22806.084,22229.016,22625.547,25318.723,27761.188,27263.627,27721.359],[5186.003,5318.95,5112.288,5178.558,5031.101,4894.408,5017.241,5218.889,5460.675,5575.825,5751.575,6173.585,6491.248,6556.927,7047.265,7403.032,7273.561,7461.707,8409.361000000001,9281.111000000001,9158.998,9342.031999999999],[16.175,17.146,17.975,16.798,17.968,18.859,20.174,21.643,21.497,23.376,24.009,24.791,30.339,27.735,27.505,32.651,33.72,31.993,34.966,38.135,40.171,38.037],[23.672,23.18,23.58,22.827,22.479,22.118,21.971,23.062,23.817,24.601,24.977,25.585,27.472,27.481,27.783,28.88,29.122,28.661,30.704,32.015,33.826,32.012],[2025.02,1995.67,2024.93,2058.23,2089.92,2140.76,2112.2,2174.72,2129.42,1955.17,2062.47,1979.51,1901,1908.65,1914.11,1828.25,1755.35,1688.94,1731.3,1633.31,1493.52,1575.28],[-13.848,-22.922,22.797,4.572,-2.747,1.475,7.175,-14.884,3.296,8.157,-5.251,22.863,-13.308,-2.73,-4.051,-3.635,7.024,12.527,-2.457,-1.398,-0.9409999999999999,-8.872999999999999],[-129.646,-188.912,135.908,29.401,-26.358,6.302,49.595,-125.252,18.24,52.838,-44.228,157.912,-120.625,-24.913,-33.606,-29.162,42.414,83.783,-23.911,-13.492,-9.821999999999999,-68.372],[806.552,617.641,753.548,782.949,756.591,762.893,812.4880000000001,687.236,705.476,758.314,714.086,871.998,751.373,726.46,692.853,663.691,706.105,789.888,765.977,752.485,742.663,674.292],[956.202,729.112,886.3869999999999,918.107,884.272,888.552,943.076,794.766,813.033,871.3440000000001,818.49,996.984,856.747,826.2380000000001,786.221,751.646,798.05,890.9880000000001,862.949,845.329,833.328,731.37],[270.03,208.14,255.59,267.27,259.93,263.76,282.69,240.61,248.54,268.82,254.7,312.93,271.29,263.88,253.19,243.99,261.13,293.84,286.62,282.61,279.95,246.47],[2856.078,2163.588,2613.31,2689.532,2573.895,2570.024,2710.525,2270.03,2307.778,2457.971,2294.748,2778.155,2372.871,2274.628,2151.492,2044.595,2157.956,2395.115,2306.186,2250.794,2210.689,2000.88],[7.102,5.584,6.649,6.908,6.577,6.537,6.985,5.808,6.051,6.823,6.191,7.653,6.714,6.507,6.181,5.974,6.388,7.251,6.822,6.796,6.924,5.936],[3.038,2.384,2.865,2.968,2.813,2.835,3.043,2.539,2.672,3.021,2.752,3.39,3,2.824,2.665,2.578,2.745,3.059,2.862,2.832,3.02,2.611],[-0.92,-3.659,6.712,0.972,3.201,1.186,5.63,1.586,6.579,4.281,3.731,5.959,-2.214,5.178,1.943,1.509,6.18,4.415,1.187,2.09,0.159,3.572],[-44.439,-152.814,187.833,-15.877,58.431,-1.254,114.581,-24.951,123.055,99.77500000000001,68.533,198.168,-120.685,152.053,61.795,21.95,218.402,198.896,47.394,74.218,55.268,123.078],[3320.85,3168.036,3355.869,3339.991,3398.423,3397.169,3511.749,3486.798,3609.854,3709.628,3778.161,3976.329,3855.644,4007.697,4069.492,4091.442,4309.845,4508.74,4556.134,4630.352,4685.62,4808.697],[3912.272,3674.25,3871.68,3822.99,3856.704,3823.676,3897.808,3812.899,3870.918,3936.346,3957.32,4141.564,3984.351,4099.88,4173.473,4170.171,4372.113,4585.143,4637.351,4696.613,4796.304,4865.82],[1104.82,1048.89,1116.4,1112.91,1133.67,1135.03,1168.38,1154.33,1183.32,1214.41,1231.45,1299.94,1261.65,1309.4,1344,1353.67,1430.6,1512.14,1540.25,1570.17,1611.28,1639.77],[11759.444,11097.594,11638.168,11473.304,11561.311,11444.342,11715.474,11517.339,11808.681,12024.258,12141.29,12668.446,12176.307,12548.556,12636.841,12604.265,13171.486,13671.498,13717.509,13850.071,13947.703,14269.231],[29.058,28.139,29.041,28.765,28.686,28.13,28.871,27.865,28.809,30.824,29.934,31.792,31.224,32.286,32.812,33.146,34.999,37.316,36.659,37.759,39.852,39.491],[12.51,12.226,12.761,12.661,12.635,12.624,13.154,12.884,13.671,14.776,14.558,15.456,15.393,15.577,15.654,15.891,16.755,17.463,17.024,17.426,19.052,18.62],[33.76,22.03,20.98,6.42,11.31,24.78,18.42,31.25,32.82,34.05,25.98,37.25,47.26,57.88,53.21,66.67,66.5,56.31,44.46,39.04,47.31,39.31],[0.88,0.588,0.543,0.166,0.285,0.61,0.453,0.749,0.793,0.857,0.628,0.903,1.156,1.407,1.282,1.606,1.601,1.371,1.047,0.93,1.157,0.9379999999999999],[3.521,1.981,1.462,-2.094,3.247,-0.83,0.669,2.44,-0.027,-0.912,1.016,-2.077,-2.641,2.559,1.033,0.001,1.068,-0.092,0.265,0.288,-2.413,-1.485],[76.58,29.692,18.413,-62.584,57.924,-33.448,0.8129999999999999,40.715,-14.92,-34.87,8.922000000000001,-60.508,-71.15600000000001,41.357,9.294,-12.952,10.197,-14.816,-6.949,-1.763,-59.727,-38.666],[2251.771,2281.463,2299.877,2237.292,2295.216,2261.768,2262.581,2303.296,2288.376,2253.506,2262.428,2201.92,2130.764,2172.121,2181.415,2168.462,2178.659,2163.843,2156.894,2155.132,2095.404,2056.739],[2669.596,2693.203,2705.252,2623.512,2682.551,2634.358,2626.228,2663.708,2637.303,2589.364,2593.234,2517.55,2429.581,2470.511,2475.422,2455.825,2462.301,2440.786,2429.939,2421.066,2351.239,2309.185],[753.89,768.83,780.0599999999999,763.73,788.53,781.99,787.22,806.42,806.21,798.85,806.97,790.2,769.33,789.02,797.17,797.1799999999999,805.6900000000001,804.95,807.08,809.41,789.88,778.1900000000001],[7973.734,7991.941,7975.983,7685.389,7808.243,7619.417,7548.15,7608.082,7485.817,7304.434,7270.414,7015.241,6729.055,6801.158,6773.866,6680.254,6658.287,6561.251,6493.931,6446.32,6237.399,6103.125],[19.828,20.626,20.292,19.74,19.953,19.38,19.452,19.467,19.628,20.276,19.616,19.326,19.04,19.455,19.462,19.52,19.711,19.864,19.209,19.465,19.536,18.742],[8.483000000000001,8.804,8.744999999999999,8.481,8.532999999999999,8.404999999999999,8.475,8.510999999999999,8.666,8.976000000000001,8.718,8.558999999999999,8.507,8.443,8.391,8.422000000000001,8.470000000000001,8.381,8.058999999999999,8.111000000000001,8.52,7.964],[1.111,-0.162,0.052,1.515,3.649,0.145,-1.277,-0.625,-6.618,-5.222,1.581,-1.988,-2.29,1.636,0.6830000000000001,2.037,0.716,0.966,2.406,-0.153,-12.17,8.643000000000001],[117.042,-17.285,5.564,161.27,394.184,16.212,-143.169,-69.154,-728.061,-536.45,153.983,-196.671,-221.97,154.966,65.71299999999999,197.452,70.858,96.199,241.955,-15.799,-1251.534,780.643],[10654.134,10636.849,10642.413,10803.683,11197.866,11214.078,11070.909,11001.755,10273.694,9737.244000000001,9891.227999999999,9694.557000000001,9472.587,9627.553,9693.266,9890.718000000001,9961.575999999999,10057.775,10299.73,10283.932,9032.397000000001,9813.040000000001],[410.838,474.97,359.597,454.742,441.847,424.905,238.897,248.362,181.325,157.303,152.643,133.205,123.448,126.059,135.669,136.904,120.718,114.891,128.5,111.989,102.22,104.452],[116.02,135.59,103.69,132.38,129.88,126.13,71.61,75.19,55.43,48.53,47.5,41.81,39.09,40.26,43.69,44.44,39.5,37.89,42.68,37.44,34.34,35.2],[37727.297,37260.762,36907.938,37112.051,38094.734,37777.852,36933.43,36340.199,33607.672,31561.959,31785.902,30886.521,29914.881,30144.963,30100.135,30469.75,30443.965,30497.4,31010.205,30760.773,26886.775,29119.018],[-1.431,-0.884,-0.756,-2.735,-2.164,-5.031,-1.452,0.155,-0.903,6.738,3.273,3.985,14.094,13.52,16.933,8.093999999999999,-4.325,5.813,16.533,12.083,-5.113,-0.06],[-58.674,-35.731,-30.284,-108.745,-83.705,-190.369,-52.16,5.505,-32.034,236.836,122.798,154.409,567.813,621.496,883.591,493.852,-285.28,366.828,1103.934,940.16,-445.946,-4.954],[14314.399,14035.198,13790.005,13285.729,12872.696,12105.85,11814.297,11715.787,11497.88,12160.561,12450.807,12835.895,14516.599,16338.767,18947.652,20318.795,19285.334,20246.707,23427.229,26086.648,24633.221,24541.359],[4042.366,4006.635,3976.351,3867.606,3783.902,3593.532,3541.372,3546.877,3514.844,3751.679,3874.478,4028.887,4596.7,5218.196,6101.787,6595.639,6310.358,6677.187,7781.121,8721.280000000001,8275.334000000001,8270.379999999999],[3.051,3.637,2.697,3.422,3.286,3.126,1.769,1.815,1.349,1.232,1.155,1.023,0.967,0.993,1.067,1.088,0.966,0.9350000000000001,1.016,0.9,0.849,0.848],[40.135,41.049,40.469,40.954,41.632,41.672,41.467,40.651,38.907,38.785,38.114,37.684,37.818,37.421,37.287,38.415,38.726,38.955,38.486,38.703,36.727,37.998],[207.284,207.94,223.197,221.493,223.007,224.874,226.212,228.429,227.048,225.447,231.142,233.103,236.724,247.921,258.466,257.115,253.683,253.612,250.438,234.433,225.964,229.336],[74.81999999999999,64.64,69.84999999999999,70.19,70.48999999999999,70.92,71.37,72.23999999999999,72.34999999999999,71.95999999999999,73.92,74.81,75.88,79.62,83.06999999999999,82.75,81.92,81.77,80.52,75.38,72.79000000000001,72.48999999999999],[14.09,14.89,16.14,16.85,16.95,16.64,16.51,16.7,17.32,17.47,17.83,18.14,18.26,18.76,19.08,19.12,19.16,19.04,18.69,17.87,18.09,18.24],[0.158,0.372,7.42,-0.637,0.86,0.907,0.667,1.077,-0.431,-0.532,2.6,0.95,1.664,4.711,4.221,-0.397,-1.211,0.094,-1.096,-6.194,-3.272,1.592],[0.609,0.656,15.258,-1.705,1.515,1.866,1.339,2.217,-1.381,-1.601,5.695,1.961,3.621,11.197,10.545,-1.351,-3.432,-0.07099999999999999,-3.174,-16.005,-8.468999999999999,3.372],[264.945,226.433,242.24,241.112,239.804,238.914,238.096,238.618,236.674,233.249,237.545,238.342,239.633,249.299,257.954,254.923,250.359,247.945,242.428,225.473,216.674,215.105],[49.894,52.16,55.974,57.882,57.663,56.057,55.079,55.162,56.658,56.627,57.298,57.793,57.666,58.74,59.248,58.902,58.556,57.733,56.271,53.452,53.849,54.125],[734.013,728.4109999999999,774.049,760.857,758.663,757.552,754.663,754.53,742.728,730.756,742.784,742.658,747.586,776.27,802.605,792.08,775.292,769.008,754.014,701.224,672.627,680.527],[1.968,1.734,1.817,1.814,1.784,1.758,1.764,1.744,1.761,1.826,1.797,1.83,1.878,1.963,2.028,2.026,2.004,2.018,1.916,1.813,1.8,1.746],[0.371,0.399,0.42,0.436,0.429,0.412,0.408,0.403,0.422,0.443,0.433,0.444,0.452,0.463,0.466,0.468,0.469,0.47,0.445,0.43,0.447,0.439],[0.781,0.802,0.849,0.84,0.829,0.836,0.847,0.844,0.86,0.898,0.891,0.906,0.945,0.964,0.994,0.999,0.986,0.982,0.9360000000000001,0.882,0.919,0.888],[13463.596,13057.637,13331.809,13290.311,13444.391,13593.026,13500.912,13683.437,13436.697,12770.394,13220.33,13026.999,12760.629,12698.577,12719.186,12581.307,12492.153,12287.501,12649.936,12438.334,12035.351,12321.215],[26545.426,25912.781,26297.848,26380.111,26897.549,26910.133,26698.119,27063.787,26405.516,25105.531,25951.865,25726.064,25047.865,25727.75,25996.219,25747.033,25723.152,25819.031,26762.473,26571.66,24593.223,25825.461],[-9.016,-15.36,19.835,7.461,3.114,5.078,14.669,0.22,17.38,11.513,7.092,15.339,-1.791,7.751,2.795,2.895,10.745,8.09,1.882,3.425,2.008,7.05],[-121.019,-182.507,169.42,46.707,0.507,32.195,113.767,-65.666,137.976,134.645,59.61,258.676,-49.529,110.697,52.5,34.903,208.206,213.712,54.343,75.98,114.995,161.743],[1069.079,886.572,1055.992,1102.699,1103.206,1135.401,1249.168,1183.502,1321.477,1456.122,1515.733,1774.409,1724.88,1835.576,1888.077,1922.98,2131.185,2344.897,2399.24,2475.22,2590.215,2751.958],[1242.676,981.047,1166.429,1199.479,1174.154,1189.317,1271.58,1149.191,1233.615,1346.982,1364.086,1624.014,1554.77,1629.369,1698.051,1714.346,1909.812,2144.357,2207.412,2275.547,2445.065,2556.635],[350.93,280.06,336.34,349.18,345.14,353.04,381.16,347.91,377.11,415.56,424.48,509.74,492.32,520.38,546.83,556.49,624.91,707.1900000000001,733.17,760.76,821.4,861.58],[3785.711,3105.653,3662.185,3787.915,3753.067,3824.924,4167.322,3909.257,4322.863,4719.823,4870.875,5653.205,5447.252,5747.398,5862.975,5924.01,6513.199,7110.247,7223.578,7403.752,7710.305,8166.106],[9.23,7.513,8.749000000000001,9.025,8.733000000000001,8.749000000000001,9.417999999999999,8.398,9.180999999999999,10.548,10.318,12.467,12.184,12.831,13.35,13.626,15.288,17.452,17.45,18.295,20.316,20.75],[4.027,3.421,4.016,4.18,4.102,4.219,4.679,4.373,5.005,5.8,5.841,6.897,6.886,7.135,7.263,7.469,8.285,9.082000000000001,8.965,9.315,10.532,10.656],[0.033,10.769,4.744,1.505,14.325,7.272,10.086,32.868,49.082,27.121,45.139,57.28,90.69799999999999,77.489,82.149,34.947,40.567,40.847,20.819,14.49,22.29,25.231],[0.001,0.154,0.06900000000000001,0.015,0.241,0.133,0.201,0.752,1.492,1.209,2.565,4.71,11.706,18.936,35.435,27.024,42.188,59.372,41.78,35.102,62.163,85.90600000000001],[1.533,1.687,1.756,1.771,2.012,2.144,2.346,3.097,4.589,5.798,8.363,13.073,24.779,43.715,79.149,106.174,148.362,207.734,249.513,284.616,346.779,432.685],[1.735,1.892,1.907,1.821,1.973,1.853,1.701,2.015,2.813,2.885,3.888,5.798,13.674,28.305,89.804,120.237,167.69,234.33,281.086,319.724,389.115,487.897],[0.49,0.54,0.55,0.53,0.58,0.55,0.51,0.61,0.86,0.89,1.21,1.82,4.33,9.039999999999999,28.92,39.03,54.87,77.28,93.36,106.89,130.72,164.42],[5.429,5.911,6.09,6.084,6.844,7.224,7.826,10.231,15.012,18.792,26.875,41.65,78.253,136.876,245.78,327.083,453.415,629.895,751.23,851.328,1032.258,1283.94],[0.013,0.014,0.014,0.014,0.015,0.014,0.013,0.015,0.021,0.023,0.029,0.045,0.107,0.223,0.706,0.956,1.342,1.907,2.222,2.57,3.233,3.96],[0.006,0.007,0.007,0.007,0.007,0.008,0.008999999999999999,0.011,0.017,0.023,0.032,0.051,0.099,0.17,0.304,0.412,0.577,0.805,0.9320000000000001,1.071,1.41,1.675],[24.627,20.454,53.685,8.047000000000001,26.425,25.925,49.289,29.564,60.706,33.457,28.106,26.966,17.179,19.186,8.231,4.989,19.02,12.031,7.222,8.513999999999999,14.214,12.378],[3.301,3.287,10.535,2.245,8.396000000000001,10.345,24.907,21.974,58.75,51.282,56.941,69.506,55.15,72.03,35.039,21.695,95.018,69.804,45.081,59.126,108.672,107.278],[16.706,19.993,30.528,32.773,41.169,51.514,76.42100000000001,98.395,157.145,208.427,265.368,334.874,390.024,462.054,497.093,518.788,613.806,683.609,728.691,787.816,896.4880000000001,1003.766],[19.795,23.61,35.894,38.439,48.104,59.998,88.706,113.793,181.096,239.504,304.162,382.889,444.716,525.526,564.071,587.54,693.713,771.0940000000001,820.949,885.021,1005.947,1122.263],[5.59,6.74,10.35,11.19,14.14,17.81,26.59,34.45,55.36,73.89,94.65000000000001,120.18,140.82,167.84,181.65,190.72,226.99,254.3,272.67,295.88,337.94,378.2],[59.159,70.03400000000001,105.87,112.579,140.056,173.54,254.947,325.012,514.058,675.588,852.773,1066.898,1231.715,1446.744,1543.604,1598.198,1875.876,2072.855,2193.926,2356.476,2668.579,2978.554],[0.147,0.181,0.269,0.289,0.358,0.441,0.657,0.832,1.348,1.875,2.301,2.939,3.485,4.138,4.435,4.67,5.553,6.275,6.49,7.115,8.358000000000001,9.108000000000001],[0.063,0.077,0.116,0.124,0.153,0.191,0.286,0.364,0.595,0.83,1.023,1.302,1.557,1.796,1.912,2.015,2.386,2.648,2.723,2.965,3.645,3.887]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>country<\/th>\n      <th>year<\/th>\n      <th>iso_code<\/th>\n      <th>population<\/th>\n      <th>gdp<\/th>\n      <th>biofuel_cons_change_pct<\/th>\n      <th>biofuel_cons_change_twh<\/th>\n      <th>biofuel_cons_per_capita<\/th>\n      <th>biofuel_consumption<\/th>\n      <th>biofuel_elec_per_capita<\/th>\n      <th>biofuel_electricity<\/th>\n      <th>biofuel_share_elec<\/th>\n      <th>biofuel_share_energy<\/th>\n      <th>carbon_intensity_elec<\/th>\n      <th>coal_cons_change_pct<\/th>\n      <th>coal_cons_change_twh<\/th>\n      <th>coal_cons_per_capita<\/th>\n      <th>coal_consumption<\/th>\n      <th>coal_elec_per_capita<\/th>\n      <th>coal_electricity<\/th>\n      <th>coal_prod_change_pct<\/th>\n      <th>coal_prod_change_twh<\/th>\n      <th>coal_prod_per_capita<\/th>\n      <th>coal_production<\/th>\n      <th>coal_share_elec<\/th>\n      <th>coal_share_energy<\/th>\n      <th>electricity_demand<\/th>\n      <th>electricity_generation<\/th>\n      <th>electricity_share_energy<\/th>\n      <th>energy_cons_change_pct<\/th>\n      <th>energy_cons_change_twh<\/th>\n      <th>energy_per_capita<\/th>\n      <th>energy_per_gdp<\/th>\n      <th>fossil_cons_change_pct<\/th>\n      <th>fossil_cons_change_twh<\/th>\n      <th>fossil_elec_per_capita<\/th>\n      <th>fossil_electricity<\/th>\n      <th>fossil_energy_per_capita<\/th>\n      <th>fossil_fuel_consumption<\/th>\n      <th>fossil_share_elec<\/th>\n      <th>fossil_share_energy<\/th>\n      <th>gas_cons_change_pct<\/th>\n      <th>gas_cons_change_twh<\/th>\n      <th>gas_consumption<\/th>\n      <th>gas_elec_per_capita<\/th>\n      <th>gas_electricity<\/th>\n      <th>gas_energy_per_capita<\/th>\n      <th>gas_prod_change_pct<\/th>\n      <th>gas_prod_change_twh<\/th>\n      <th>gas_prod_per_capita<\/th>\n      <th>gas_production<\/th>\n      <th>gas_share_elec<\/th>\n      <th>gas_share_energy<\/th>\n      <th>greenhouse_gas_emissions<\/th>\n      <th>hydro_cons_change_pct<\/th>\n      <th>hydro_cons_change_twh<\/th>\n      <th>hydro_consumption<\/th>\n      <th>hydro_elec_per_capita<\/th>\n      <th>hydro_electricity<\/th>\n      <th>hydro_energy_per_capita<\/th>\n      <th>hydro_share_elec<\/th>\n      <th>hydro_share_energy<\/th>\n      <th>low_carbon_cons_change_pct<\/th>\n      <th>low_carbon_cons_change_twh<\/th>\n      <th>low_carbon_consumption<\/th>\n      <th>low_carbon_elec_per_capita<\/th>\n      <th>low_carbon_electricity<\/th>\n      <th>low_carbon_energy_per_capita<\/th>\n      <th>low_carbon_share_elec<\/th>\n      <th>low_carbon_share_energy<\/th>\n      <th>net_elec_imports<\/th>\n      <th>net_elec_imports_share_demand<\/th>\n      <th>nuclear_cons_change_pct<\/th>\n      <th>nuclear_cons_change_twh<\/th>\n      <th>nuclear_consumption<\/th>\n      <th>nuclear_elec_per_capita<\/th>\n      <th>nuclear_electricity<\/th>\n      <th>nuclear_energy_per_capita<\/th>\n      <th>nuclear_share_elec<\/th>\n      <th>nuclear_share_energy<\/th>\n      <th>oil_cons_change_pct<\/th>\n      <th>oil_cons_change_twh<\/th>\n      <th>oil_consumption<\/th>\n      <th>oil_elec_per_capita<\/th>\n      <th>oil_electricity<\/th>\n      <th>oil_energy_per_capita<\/th>\n      <th>oil_prod_change_pct<\/th>\n      <th>oil_prod_change_twh<\/th>\n      <th>oil_prod_per_capita<\/th>\n      <th>oil_production<\/th>\n      <th>oil_share_elec<\/th>\n      <th>oil_share_energy<\/th>\n      <th>other_renewable_consumption<\/th>\n      <th>other_renewable_electricity<\/th>\n      <th>other_renewable_exc_biofuel_electricity<\/th>\n      <th>other_renewables_cons_change_pct<\/th>\n      <th>other_renewables_cons_change_twh<\/th>\n      <th>other_renewables_elec_per_capita<\/th>\n      <th>other_renewables_elec_per_capita_exc_biofuel<\/th>\n      <th>other_renewables_energy_per_capita<\/th>\n      <th>other_renewables_share_elec<\/th>\n      <th>other_renewables_share_elec_exc_biofuel<\/th>\n      <th>other_renewables_share_energy<\/th>\n      <th>per_capita_electricity<\/th>\n      <th>primary_energy_consumption<\/th>\n      <th>renewables_cons_change_pct<\/th>\n      <th>renewables_cons_change_twh<\/th>\n      <th>renewables_consumption<\/th>\n      <th>renewables_elec_per_capita<\/th>\n      <th>renewables_electricity<\/th>\n      <th>renewables_energy_per_capita<\/th>\n      <th>renewables_share_elec<\/th>\n      <th>renewables_share_energy<\/th>\n      <th>solar_cons_change_pct<\/th>\n      <th>solar_cons_change_twh<\/th>\n      <th>solar_consumption<\/th>\n      <th>solar_elec_per_capita<\/th>\n      <th>solar_electricity<\/th>\n      <th>solar_energy_per_capita<\/th>\n      <th>solar_share_elec<\/th>\n      <th>solar_share_energy<\/th>\n      <th>wind_cons_change_pct<\/th>\n      <th>wind_cons_change_twh<\/th>\n      <th>wind_consumption<\/th>\n      <th>wind_elec_per_capita<\/th>\n      <th>wind_electricity<\/th>\n      <th>wind_energy_per_capita<\/th>\n      <th>wind_share_elec<\/th>\n      <th>wind_share_energy<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="share-of-electricity-generation-by-fuel-type" class="level3"><h3 class="anchored" data-anchor-id="share-of-electricity-generation-by-fuel-type">Share of electricity generation by fuel type</h3>
<p>For this analysis, I’ve chosen to investigate how the mix of fuel types used to generate electricity has changed over time. We need to reduce carbon emissions in order to prevent or mitigate the effects of climate change, and electricity generation is a large component of these emissions. I’m interested to see what progress has been made in transitioning to more renewable/low-carbon fuels for electricity generation.</p>
<p>Conveniently, the data already contain fields for the share of total electricity generation for each fuel type! I’ll make a new data frame with just these fields. I can select these columns (all ending in <em>share_elec</em>), using the <em>ends_with</em> function from the <em>dplyr</em> (<span class="citation" data-cites="dplyr">Wickham et al. (<a href="#ref-dplyr" role="doc-biblioref">2023</a>)</span>) package.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">usa</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">year</span>, <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">ends_with</a></span><span class="op">(</span><span class="st">"share_elec"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span>rownames <span class="op">=</span> <span class="cn">FALSE</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>pageLength <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="tbl-perc-wide" class="cell anchored">
<figure class="quarto-float quarto-float-tbl figure"><div aria-describedby="tbl-perc-wide-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-377b0ce72e64ab387fce" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-377b0ce72e64ab387fce">{"x":{"filter":"none","vertical":false,"data":[[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],[1.597,1.335,1.397,1.379,1.355,1.345,1.356,1.341,1.34,1.383,1.363,1.386,1.426,1.501,1.562,1.558,1.535,1.548,1.472,1.383,1.353,1.307],[51.715,51.078,50.287,51.015,50.059,49.885,49.186,48.677,48.345,44.568,44.903,42.394,37.47,38.986,38.616,33.115,30.315,29.757,27.359,23.205,19.128,21.624],[70.94199999999999,71.861,70.959,71.235,71.31399999999999,71.87,71.129,72.13500000000001,71.191,69.176,70.066,68.208,68.776,67.714,67.188,66.854,65.001,62.684,63.341,62.241,60.148,60.509],[16.175,17.146,17.975,16.798,17.968,18.859,20.174,21.643,21.497,23.376,24.009,24.791,30.339,27.735,27.505,32.651,33.72,31.993,34.966,38.135,40.171,38.037],[7.102,5.584,6.649,6.908,6.577,6.537,6.985,5.808,6.051,6.823,6.191,7.653,6.714,6.507,6.181,5.974,6.388,7.251,6.822,6.796,6.924,5.936],[29.058,28.139,29.041,28.765,28.686,28.13,28.871,27.865,28.809,30.824,29.934,31.792,31.224,32.286,32.812,33.146,34.999,37.316,36.659,37.759,39.852,39.491],[19.828,20.626,20.292,19.74,19.953,19.38,19.452,19.467,19.628,20.276,19.616,19.326,19.04,19.455,19.462,19.52,19.711,19.864,19.209,19.465,19.536,18.742],[3.051,3.637,2.697,3.422,3.286,3.126,1.769,1.815,1.349,1.232,1.155,1.023,0.967,0.993,1.067,1.088,0.966,0.9350000000000001,1.016,0.9,0.849,0.848],[1.968,1.734,1.817,1.814,1.784,1.758,1.764,1.744,1.761,1.826,1.797,1.83,1.878,1.963,2.028,2.026,2.004,2.018,1.916,1.813,1.8,1.746],[9.23,7.513,8.749000000000001,9.025,8.733000000000001,8.749000000000001,9.417999999999999,8.398,9.180999999999999,10.548,10.318,12.467,12.184,12.831,13.35,13.626,15.288,17.452,17.45,18.295,20.316,20.75],[0.013,0.014,0.014,0.014,0.015,0.014,0.013,0.015,0.021,0.023,0.029,0.045,0.107,0.223,0.706,0.956,1.342,1.907,2.222,2.57,3.233,3.96],[0.147,0.181,0.269,0.289,0.358,0.441,0.657,0.832,1.348,1.875,2.301,2.939,3.485,4.138,4.435,4.67,5.553,6.275,6.49,7.115,8.358000000000001,9.108000000000001]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>year<\/th>\n      <th>biofuel_share_elec<\/th>\n      <th>coal_share_elec<\/th>\n      <th>fossil_share_elec<\/th>\n      <th>gas_share_elec<\/th>\n      <th>hydro_share_elec<\/th>\n      <th>low_carbon_share_elec<\/th>\n      <th>nuclear_share_elec<\/th>\n      <th>oil_share_elec<\/th>\n      <th>other_renewables_share_elec<\/th>\n      <th>renewables_share_elec<\/th>\n      <th>solar_share_elec<\/th>\n      <th>wind_share_elec<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[0,1,2,3,4,5,6,7,8,9,10,11,12]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-perc-wide-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Percent of electricity generation by fueltype
</figcaption></figure>
</div>
</div>
<p>Now I have a dataframe (<a href="#tbl-perc-wide" class="quarto-xref">Table&nbsp;1</a>) with just the variables I want to plot, but the format isn’t ideal; I would have to specify/plot each variable separately. What I want to do is give a single plot command and group/color the lines by the variable (fuel type). To achieve this, I am going to pivot the data frame from wide to long format, using the <em>pivot_longer</em> function from the <em>tidyr</em> (<span class="citation" data-cites="tidyr">Wickham, Vaughan, and Girlich (<a href="#ref-tidyr" role="doc-biblioref">2023</a>)</span>) package.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <em>pivot_</em> functions in <em>tidyr</em> (<span class="citation" data-cites="tidyr">Wickham, Vaughan, and Girlich (<a href="#ref-tidyr" role="doc-biblioref">2023</a>)</span>) package were previously referred to as <em>gather</em> or <em>melt</em>.</p>
</div>
</div>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">usa_share</span> <span class="op">&lt;-</span> <span class="va">usa</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">year</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">ends_with</a></span><span class="op">(</span><span class="st">"share_elec"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">ends_with</a></span><span class="op">(</span><span class="st">"share_elec"</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"FuelType"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"Percentage"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>FuelType <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html">str_remove</a></span><span class="op">(</span><span class="va">FuelType</span>,<span class="st">'_share_elec'</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">usa_share</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span>rownames <span class="op">=</span> <span class="cn">FALSE</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>pageLength <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="tbl-perc-long" class="cell anchored">
<figure class="quarto-float quarto-float-tbl figure"><div aria-describedby="tbl-perc-long-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-9245c44fae873df3a3f4" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-9245c44fae873df3a3f4">{"x":{"filter":"none","vertical":false,"data":[[2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2001,2001,2001,2001,2001,2001,2001,2001,2001,2001,2001,2001,2002,2002,2002,2002,2002,2002,2002,2002,2002,2002,2002,2002,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2009,2009,2009,2009,2009,2009,2009,2009,2009,2009,2009,2009,2010,2010,2010,2010,2010,2010,2010,2010,2010,2010,2010,2010,2011,2011,2011,2011,2011,2011,2011,2011,2011,2011,2011,2011,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2014,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2019,2019,2019,2019,2019,2019,2019,2019,2019,2019,2019,2019,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021],["biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind","biofuel","coal","fossil","gas","hydro","low_carbon","nuclear","oil","other_renewables","renewables","solar","wind"],[1.597,51.715,70.94199999999999,16.175,7.102,29.058,19.828,3.051,1.968,9.23,0.013,0.147,1.335,51.078,71.861,17.146,5.584,28.139,20.626,3.637,1.734,7.513,0.014,0.181,1.397,50.287,70.959,17.975,6.649,29.041,20.292,2.697,1.817,8.749000000000001,0.014,0.269,1.379,51.015,71.235,16.798,6.908,28.765,19.74,3.422,1.814,9.025,0.014,0.289,1.355,50.059,71.31399999999999,17.968,6.577,28.686,19.953,3.286,1.784,8.733000000000001,0.015,0.358,1.345,49.885,71.87,18.859,6.537,28.13,19.38,3.126,1.758,8.749000000000001,0.014,0.441,1.356,49.186,71.129,20.174,6.985,28.871,19.452,1.769,1.764,9.417999999999999,0.013,0.657,1.341,48.677,72.13500000000001,21.643,5.808,27.865,19.467,1.815,1.744,8.398,0.015,0.832,1.34,48.345,71.191,21.497,6.051,28.809,19.628,1.349,1.761,9.180999999999999,0.021,1.348,1.383,44.568,69.176,23.376,6.823,30.824,20.276,1.232,1.826,10.548,0.023,1.875,1.363,44.903,70.066,24.009,6.191,29.934,19.616,1.155,1.797,10.318,0.029,2.301,1.386,42.394,68.208,24.791,7.653,31.792,19.326,1.023,1.83,12.467,0.045,2.939,1.426,37.47,68.776,30.339,6.714,31.224,19.04,0.967,1.878,12.184,0.107,3.485,1.501,38.986,67.714,27.735,6.507,32.286,19.455,0.993,1.963,12.831,0.223,4.138,1.562,38.616,67.188,27.505,6.181,32.812,19.462,1.067,2.028,13.35,0.706,4.435,1.558,33.115,66.854,32.651,5.974,33.146,19.52,1.088,2.026,13.626,0.956,4.67,1.535,30.315,65.001,33.72,6.388,34.999,19.711,0.966,2.004,15.288,1.342,5.553,1.548,29.757,62.684,31.993,7.251,37.316,19.864,0.9350000000000001,2.018,17.452,1.907,6.275,1.472,27.359,63.341,34.966,6.822,36.659,19.209,1.016,1.916,17.45,2.222,6.49,1.383,23.205,62.241,38.135,6.796,37.759,19.465,0.9,1.813,18.295,2.57,7.115,1.353,19.128,60.148,40.171,6.924,39.852,19.536,0.849,1.8,20.316,3.233,8.358000000000001,1.307,21.624,60.509,38.037,5.936,39.491,18.742,0.848,1.746,20.75,3.96,9.108000000000001]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>year<\/th>\n      <th>FuelType<\/th>\n      <th>Percentage<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[0,2]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-perc-long-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Percent of electricity generation by fueltype
</figcaption></figure>
</div>
</div>
<p>Now my dataframe (<a href="#tbl-perc-long" class="quarto-xref">Table&nbsp;2</a>) has a row for each year, fuel type, and value, and I can simply group or color by the fuel type when I plot.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="va">usa_share</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">Percentage</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">FuelType</span><span class="op">)</span>, linewidth <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Percent of US electricity Generation By Fuel type"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Year"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Percent"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/ggplotly.html">ggplotly</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="fig-share-all" class="cell-output-display quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-share-all-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-e568a3496d6c612bd95d" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-e568a3496d6c612bd95d">{"x":{"data":[{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[1.597,1.335,1.397,1.379,1.355,1.345,1.3560000000000001,1.341,1.3400000000000001,1.383,1.363,1.3859999999999999,1.4259999999999999,1.5009999999999999,1.5620000000000001,1.5580000000000001,1.5349999999999999,1.548,1.472,1.383,1.353,1.3069999999999999],"text":["year: 2000<br />Percentage:  1.597<br />FuelType: biofuel","year: 2001<br />Percentage:  1.335<br />FuelType: biofuel","year: 2002<br />Percentage:  1.397<br />FuelType: biofuel","year: 2003<br />Percentage:  1.379<br />FuelType: biofuel","year: 2004<br />Percentage:  1.355<br />FuelType: biofuel","year: 2005<br />Percentage:  1.345<br />FuelType: biofuel","year: 2006<br />Percentage:  1.356<br />FuelType: biofuel","year: 2007<br />Percentage:  1.341<br />FuelType: biofuel","year: 2008<br />Percentage:  1.340<br />FuelType: biofuel","year: 2009<br />Percentage:  1.383<br />FuelType: biofuel","year: 2010<br />Percentage:  1.363<br />FuelType: biofuel","year: 2011<br />Percentage:  1.386<br />FuelType: biofuel","year: 2012<br />Percentage:  1.426<br />FuelType: biofuel","year: 2013<br />Percentage:  1.501<br />FuelType: biofuel","year: 2014<br />Percentage:  1.562<br />FuelType: biofuel","year: 2015<br />Percentage:  1.558<br />FuelType: biofuel","year: 2016<br />Percentage:  1.535<br />FuelType: biofuel","year: 2017<br />Percentage:  1.548<br />FuelType: biofuel","year: 2018<br />Percentage:  1.472<br />FuelType: biofuel","year: 2019<br />Percentage:  1.383<br />FuelType: biofuel","year: 2020<br />Percentage:  1.353<br />FuelType: biofuel","year: 2021<br />Percentage:  1.307<br />FuelType: biofuel"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"biofuel","legendgroup":"biofuel","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[51.715000000000003,51.078000000000003,50.286999999999999,51.015000000000001,50.058999999999997,49.884999999999998,49.186,48.677,48.344999999999999,44.567999999999998,44.902999999999999,42.393999999999998,37.469999999999999,38.985999999999997,38.616,33.115000000000002,30.315000000000001,29.757000000000001,27.359000000000002,23.204999999999998,19.128,21.623999999999999],"text":["year: 2000<br />Percentage: 51.715<br />FuelType: coal","year: 2001<br />Percentage: 51.078<br />FuelType: coal","year: 2002<br />Percentage: 50.287<br />FuelType: coal","year: 2003<br />Percentage: 51.015<br />FuelType: coal","year: 2004<br />Percentage: 50.059<br />FuelType: coal","year: 2005<br />Percentage: 49.885<br />FuelType: coal","year: 2006<br />Percentage: 49.186<br />FuelType: coal","year: 2007<br />Percentage: 48.677<br />FuelType: coal","year: 2008<br />Percentage: 48.345<br />FuelType: coal","year: 2009<br />Percentage: 44.568<br />FuelType: coal","year: 2010<br />Percentage: 44.903<br />FuelType: coal","year: 2011<br />Percentage: 42.394<br />FuelType: coal","year: 2012<br />Percentage: 37.470<br />FuelType: coal","year: 2013<br />Percentage: 38.986<br />FuelType: coal","year: 2014<br />Percentage: 38.616<br />FuelType: coal","year: 2015<br />Percentage: 33.115<br />FuelType: coal","year: 2016<br />Percentage: 30.315<br />FuelType: coal","year: 2017<br />Percentage: 29.757<br />FuelType: coal","year: 2018<br />Percentage: 27.359<br />FuelType: coal","year: 2019<br />Percentage: 23.205<br />FuelType: coal","year: 2020<br />Percentage: 19.128<br />FuelType: coal","year: 2021<br />Percentage: 21.624<br />FuelType: coal"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(222,140,0,1)","dash":"solid"},"hoveron":"points","name":"coal","legendgroup":"coal","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[70.941999999999993,71.861000000000004,70.959000000000003,71.234999999999999,71.313999999999993,71.870000000000005,71.129000000000005,72.135000000000005,71.191000000000003,69.176000000000002,70.066000000000003,68.207999999999998,68.775999999999996,67.713999999999999,67.188000000000002,66.853999999999999,65.001000000000005,62.683999999999997,63.341000000000001,62.241,60.148000000000003,60.509],"text":["year: 2000<br />Percentage: 70.942<br />FuelType: fossil","year: 2001<br />Percentage: 71.861<br />FuelType: fossil","year: 2002<br />Percentage: 70.959<br />FuelType: fossil","year: 2003<br />Percentage: 71.235<br />FuelType: fossil","year: 2004<br />Percentage: 71.314<br />FuelType: fossil","year: 2005<br />Percentage: 71.870<br />FuelType: fossil","year: 2006<br />Percentage: 71.129<br />FuelType: fossil","year: 2007<br />Percentage: 72.135<br />FuelType: fossil","year: 2008<br />Percentage: 71.191<br />FuelType: fossil","year: 2009<br />Percentage: 69.176<br />FuelType: fossil","year: 2010<br />Percentage: 70.066<br />FuelType: fossil","year: 2011<br />Percentage: 68.208<br />FuelType: fossil","year: 2012<br />Percentage: 68.776<br />FuelType: fossil","year: 2013<br />Percentage: 67.714<br />FuelType: fossil","year: 2014<br />Percentage: 67.188<br />FuelType: fossil","year: 2015<br />Percentage: 66.854<br />FuelType: fossil","year: 2016<br />Percentage: 65.001<br />FuelType: fossil","year: 2017<br />Percentage: 62.684<br />FuelType: fossil","year: 2018<br />Percentage: 63.341<br />FuelType: fossil","year: 2019<br />Percentage: 62.241<br />FuelType: fossil","year: 2020<br />Percentage: 60.148<br />FuelType: fossil","year: 2021<br />Percentage: 60.509<br />FuelType: fossil"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(183,159,0,1)","dash":"solid"},"hoveron":"points","name":"fossil","legendgroup":"fossil","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[16.175000000000001,17.146000000000001,17.975000000000001,16.797999999999998,17.968,18.859000000000002,20.173999999999999,21.643000000000001,21.497,23.376000000000001,24.009,24.791,30.338999999999999,27.734999999999999,27.504999999999999,32.651000000000003,33.719999999999999,31.992999999999999,34.966000000000001,38.134999999999998,40.170999999999999,38.036999999999999],"text":["year: 2000<br />Percentage: 16.175<br />FuelType: gas","year: 2001<br />Percentage: 17.146<br />FuelType: gas","year: 2002<br />Percentage: 17.975<br />FuelType: gas","year: 2003<br />Percentage: 16.798<br />FuelType: gas","year: 2004<br />Percentage: 17.968<br />FuelType: gas","year: 2005<br />Percentage: 18.859<br />FuelType: gas","year: 2006<br />Percentage: 20.174<br />FuelType: gas","year: 2007<br />Percentage: 21.643<br />FuelType: gas","year: 2008<br />Percentage: 21.497<br />FuelType: gas","year: 2009<br />Percentage: 23.376<br />FuelType: gas","year: 2010<br />Percentage: 24.009<br />FuelType: gas","year: 2011<br />Percentage: 24.791<br />FuelType: gas","year: 2012<br />Percentage: 30.339<br />FuelType: gas","year: 2013<br />Percentage: 27.735<br />FuelType: gas","year: 2014<br />Percentage: 27.505<br />FuelType: gas","year: 2015<br />Percentage: 32.651<br />FuelType: gas","year: 2016<br />Percentage: 33.720<br />FuelType: gas","year: 2017<br />Percentage: 31.993<br />FuelType: gas","year: 2018<br />Percentage: 34.966<br />FuelType: gas","year: 2019<br />Percentage: 38.135<br />FuelType: gas","year: 2020<br />Percentage: 40.171<br />FuelType: gas","year: 2021<br />Percentage: 38.037<br />FuelType: gas"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(124,174,0,1)","dash":"solid"},"hoveron":"points","name":"gas","legendgroup":"gas","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[7.1020000000000003,5.5839999999999996,6.649,6.9080000000000004,6.577,6.5369999999999999,6.9850000000000003,5.8079999999999998,6.0510000000000002,6.8230000000000004,6.1909999999999998,7.6529999999999996,6.7140000000000004,6.5069999999999997,6.181,5.9740000000000002,6.3879999999999999,7.2510000000000003,6.8220000000000001,6.7960000000000003,6.9240000000000004,5.9359999999999999],"text":["year: 2000<br />Percentage:  7.102<br />FuelType: hydro","year: 2001<br />Percentage:  5.584<br />FuelType: hydro","year: 2002<br />Percentage:  6.649<br />FuelType: hydro","year: 2003<br />Percentage:  6.908<br />FuelType: hydro","year: 2004<br />Percentage:  6.577<br />FuelType: hydro","year: 2005<br />Percentage:  6.537<br />FuelType: hydro","year: 2006<br />Percentage:  6.985<br />FuelType: hydro","year: 2007<br />Percentage:  5.808<br />FuelType: hydro","year: 2008<br />Percentage:  6.051<br />FuelType: hydro","year: 2009<br />Percentage:  6.823<br />FuelType: hydro","year: 2010<br />Percentage:  6.191<br />FuelType: hydro","year: 2011<br />Percentage:  7.653<br />FuelType: hydro","year: 2012<br />Percentage:  6.714<br />FuelType: hydro","year: 2013<br />Percentage:  6.507<br />FuelType: hydro","year: 2014<br />Percentage:  6.181<br />FuelType: hydro","year: 2015<br />Percentage:  5.974<br />FuelType: hydro","year: 2016<br />Percentage:  6.388<br />FuelType: hydro","year: 2017<br />Percentage:  7.251<br />FuelType: hydro","year: 2018<br />Percentage:  6.822<br />FuelType: hydro","year: 2019<br />Percentage:  6.796<br />FuelType: hydro","year: 2020<br />Percentage:  6.924<br />FuelType: hydro","year: 2021<br />Percentage:  5.936<br />FuelType: hydro"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(0,186,56,1)","dash":"solid"},"hoveron":"points","name":"hydro","legendgroup":"hydro","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[29.058,28.138999999999999,29.041,28.765000000000001,28.686,28.129999999999999,28.870999999999999,27.864999999999998,28.809000000000001,30.824000000000002,29.934000000000001,31.792000000000002,31.224,32.286000000000001,32.811999999999998,33.146000000000001,34.999000000000002,37.316000000000003,36.658999999999999,37.759,39.851999999999997,39.491],"text":["year: 2000<br />Percentage: 29.058<br />FuelType: low_carbon","year: 2001<br />Percentage: 28.139<br />FuelType: low_carbon","year: 2002<br />Percentage: 29.041<br />FuelType: low_carbon","year: 2003<br />Percentage: 28.765<br />FuelType: low_carbon","year: 2004<br />Percentage: 28.686<br />FuelType: low_carbon","year: 2005<br />Percentage: 28.130<br />FuelType: low_carbon","year: 2006<br />Percentage: 28.871<br />FuelType: low_carbon","year: 2007<br />Percentage: 27.865<br />FuelType: low_carbon","year: 2008<br />Percentage: 28.809<br />FuelType: low_carbon","year: 2009<br />Percentage: 30.824<br />FuelType: low_carbon","year: 2010<br />Percentage: 29.934<br />FuelType: low_carbon","year: 2011<br />Percentage: 31.792<br />FuelType: low_carbon","year: 2012<br />Percentage: 31.224<br />FuelType: low_carbon","year: 2013<br />Percentage: 32.286<br />FuelType: low_carbon","year: 2014<br />Percentage: 32.812<br />FuelType: low_carbon","year: 2015<br />Percentage: 33.146<br />FuelType: low_carbon","year: 2016<br />Percentage: 34.999<br />FuelType: low_carbon","year: 2017<br />Percentage: 37.316<br />FuelType: low_carbon","year: 2018<br />Percentage: 36.659<br />FuelType: low_carbon","year: 2019<br />Percentage: 37.759<br />FuelType: low_carbon","year: 2020<br />Percentage: 39.852<br />FuelType: low_carbon","year: 2021<br />Percentage: 39.491<br />FuelType: low_carbon"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(0,192,139,1)","dash":"solid"},"hoveron":"points","name":"low_carbon","legendgroup":"low_carbon","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[19.827999999999999,20.626000000000001,20.292000000000002,19.739999999999998,19.952999999999999,19.379999999999999,19.452000000000002,19.466999999999999,19.628,20.276,19.616,19.326000000000001,19.039999999999999,19.454999999999998,19.462,19.52,19.710999999999999,19.864000000000001,19.209,19.465,19.536000000000001,18.742000000000001],"text":["year: 2000<br />Percentage: 19.828<br />FuelType: nuclear","year: 2001<br />Percentage: 20.626<br />FuelType: nuclear","year: 2002<br />Percentage: 20.292<br />FuelType: nuclear","year: 2003<br />Percentage: 19.740<br />FuelType: nuclear","year: 2004<br />Percentage: 19.953<br />FuelType: nuclear","year: 2005<br />Percentage: 19.380<br />FuelType: nuclear","year: 2006<br />Percentage: 19.452<br />FuelType: nuclear","year: 2007<br />Percentage: 19.467<br />FuelType: nuclear","year: 2008<br />Percentage: 19.628<br />FuelType: nuclear","year: 2009<br />Percentage: 20.276<br />FuelType: nuclear","year: 2010<br />Percentage: 19.616<br />FuelType: nuclear","year: 2011<br />Percentage: 19.326<br />FuelType: nuclear","year: 2012<br />Percentage: 19.040<br />FuelType: nuclear","year: 2013<br />Percentage: 19.455<br />FuelType: nuclear","year: 2014<br />Percentage: 19.462<br />FuelType: nuclear","year: 2015<br />Percentage: 19.520<br />FuelType: nuclear","year: 2016<br />Percentage: 19.711<br />FuelType: nuclear","year: 2017<br />Percentage: 19.864<br />FuelType: nuclear","year: 2018<br />Percentage: 19.209<br />FuelType: nuclear","year: 2019<br />Percentage: 19.465<br />FuelType: nuclear","year: 2020<br />Percentage: 19.536<br />FuelType: nuclear","year: 2021<br />Percentage: 18.742<br />FuelType: nuclear"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"nuclear","legendgroup":"nuclear","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[3.0510000000000002,3.637,2.6970000000000001,3.4220000000000002,3.286,3.1259999999999999,1.7689999999999999,1.8149999999999999,1.349,1.232,1.155,1.0229999999999999,0.96699999999999997,0.99299999999999999,1.0669999999999999,1.0880000000000001,0.96599999999999997,0.93500000000000005,1.016,0.90000000000000002,0.84899999999999998,0.84799999999999998],"text":["year: 2000<br />Percentage:  3.051<br />FuelType: oil","year: 2001<br />Percentage:  3.637<br />FuelType: oil","year: 2002<br />Percentage:  2.697<br />FuelType: oil","year: 2003<br />Percentage:  3.422<br />FuelType: oil","year: 2004<br />Percentage:  3.286<br />FuelType: oil","year: 2005<br />Percentage:  3.126<br />FuelType: oil","year: 2006<br />Percentage:  1.769<br />FuelType: oil","year: 2007<br />Percentage:  1.815<br />FuelType: oil","year: 2008<br />Percentage:  1.349<br />FuelType: oil","year: 2009<br />Percentage:  1.232<br />FuelType: oil","year: 2010<br />Percentage:  1.155<br />FuelType: oil","year: 2011<br />Percentage:  1.023<br />FuelType: oil","year: 2012<br />Percentage:  0.967<br />FuelType: oil","year: 2013<br />Percentage:  0.993<br />FuelType: oil","year: 2014<br />Percentage:  1.067<br />FuelType: oil","year: 2015<br />Percentage:  1.088<br />FuelType: oil","year: 2016<br />Percentage:  0.966<br />FuelType: oil","year: 2017<br />Percentage:  0.935<br />FuelType: oil","year: 2018<br />Percentage:  1.016<br />FuelType: oil","year: 2019<br />Percentage:  0.900<br />FuelType: oil","year: 2020<br />Percentage:  0.849<br />FuelType: oil","year: 2021<br />Percentage:  0.848<br />FuelType: oil"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(0,180,240,1)","dash":"solid"},"hoveron":"points","name":"oil","legendgroup":"oil","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[1.968,1.734,1.8169999999999999,1.8140000000000001,1.784,1.758,1.764,1.744,1.7609999999999999,1.8260000000000001,1.7969999999999999,1.8300000000000001,1.8779999999999999,1.9630000000000001,2.028,2.0259999999999998,2.004,2.0179999999999998,1.9159999999999999,1.8129999999999999,1.8,1.746],"text":["year: 2000<br />Percentage:  1.968<br />FuelType: other_renewables","year: 2001<br />Percentage:  1.734<br />FuelType: other_renewables","year: 2002<br />Percentage:  1.817<br />FuelType: other_renewables","year: 2003<br />Percentage:  1.814<br />FuelType: other_renewables","year: 2004<br />Percentage:  1.784<br />FuelType: other_renewables","year: 2005<br />Percentage:  1.758<br />FuelType: other_renewables","year: 2006<br />Percentage:  1.764<br />FuelType: other_renewables","year: 2007<br />Percentage:  1.744<br />FuelType: other_renewables","year: 2008<br />Percentage:  1.761<br />FuelType: other_renewables","year: 2009<br />Percentage:  1.826<br />FuelType: other_renewables","year: 2010<br />Percentage:  1.797<br />FuelType: other_renewables","year: 2011<br />Percentage:  1.830<br />FuelType: other_renewables","year: 2012<br />Percentage:  1.878<br />FuelType: other_renewables","year: 2013<br />Percentage:  1.963<br />FuelType: other_renewables","year: 2014<br />Percentage:  2.028<br />FuelType: other_renewables","year: 2015<br />Percentage:  2.026<br />FuelType: other_renewables","year: 2016<br />Percentage:  2.004<br />FuelType: other_renewables","year: 2017<br />Percentage:  2.018<br />FuelType: other_renewables","year: 2018<br />Percentage:  1.916<br />FuelType: other_renewables","year: 2019<br />Percentage:  1.813<br />FuelType: other_renewables","year: 2020<br />Percentage:  1.800<br />FuelType: other_renewables","year: 2021<br />Percentage:  1.746<br />FuelType: other_renewables"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(97,156,255,1)","dash":"solid"},"hoveron":"points","name":"other_renewables","legendgroup":"other_renewables","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[9.2300000000000004,7.5129999999999999,8.7490000000000006,9.0250000000000004,8.7330000000000005,8.7490000000000006,9.4179999999999993,8.3979999999999997,9.1809999999999992,10.548,10.318,12.467000000000001,12.183999999999999,12.831,13.35,13.625999999999999,15.288,17.452000000000002,17.449999999999999,18.295000000000002,20.315999999999999,20.75],"text":["year: 2000<br />Percentage:  9.230<br />FuelType: renewables","year: 2001<br />Percentage:  7.513<br />FuelType: renewables","year: 2002<br />Percentage:  8.749<br />FuelType: renewables","year: 2003<br />Percentage:  9.025<br />FuelType: renewables","year: 2004<br />Percentage:  8.733<br />FuelType: renewables","year: 2005<br />Percentage:  8.749<br />FuelType: renewables","year: 2006<br />Percentage:  9.418<br />FuelType: renewables","year: 2007<br />Percentage:  8.398<br />FuelType: renewables","year: 2008<br />Percentage:  9.181<br />FuelType: renewables","year: 2009<br />Percentage: 10.548<br />FuelType: renewables","year: 2010<br />Percentage: 10.318<br />FuelType: renewables","year: 2011<br />Percentage: 12.467<br />FuelType: renewables","year: 2012<br />Percentage: 12.184<br />FuelType: renewables","year: 2013<br />Percentage: 12.831<br />FuelType: renewables","year: 2014<br />Percentage: 13.350<br />FuelType: renewables","year: 2015<br />Percentage: 13.626<br />FuelType: renewables","year: 2016<br />Percentage: 15.288<br />FuelType: renewables","year: 2017<br />Percentage: 17.452<br />FuelType: renewables","year: 2018<br />Percentage: 17.450<br />FuelType: renewables","year: 2019<br />Percentage: 18.295<br />FuelType: renewables","year: 2020<br />Percentage: 20.316<br />FuelType: renewables","year: 2021<br />Percentage: 20.750<br />FuelType: renewables"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(199,124,255,1)","dash":"solid"},"hoveron":"points","name":"renewables","legendgroup":"renewables","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[0.012999999999999999,0.014,0.014,0.014,0.014999999999999999,0.014,0.012999999999999999,0.014999999999999999,0.021000000000000001,0.023,0.029000000000000001,0.044999999999999998,0.107,0.223,0.70599999999999996,0.95599999999999996,1.3420000000000001,1.907,2.222,2.5699999999999998,3.2330000000000001,3.96],"text":["year: 2000<br />Percentage:  0.013<br />FuelType: solar","year: 2001<br />Percentage:  0.014<br />FuelType: solar","year: 2002<br />Percentage:  0.014<br />FuelType: solar","year: 2003<br />Percentage:  0.014<br />FuelType: solar","year: 2004<br />Percentage:  0.015<br />FuelType: solar","year: 2005<br />Percentage:  0.014<br />FuelType: solar","year: 2006<br />Percentage:  0.013<br />FuelType: solar","year: 2007<br />Percentage:  0.015<br />FuelType: solar","year: 2008<br />Percentage:  0.021<br />FuelType: solar","year: 2009<br />Percentage:  0.023<br />FuelType: solar","year: 2010<br />Percentage:  0.029<br />FuelType: solar","year: 2011<br />Percentage:  0.045<br />FuelType: solar","year: 2012<br />Percentage:  0.107<br />FuelType: solar","year: 2013<br />Percentage:  0.223<br />FuelType: solar","year: 2014<br />Percentage:  0.706<br />FuelType: solar","year: 2015<br />Percentage:  0.956<br />FuelType: solar","year: 2016<br />Percentage:  1.342<br />FuelType: solar","year: 2017<br />Percentage:  1.907<br />FuelType: solar","year: 2018<br />Percentage:  2.222<br />FuelType: solar","year: 2019<br />Percentage:  2.570<br />FuelType: solar","year: 2020<br />Percentage:  3.233<br />FuelType: solar","year: 2021<br />Percentage:  3.960<br />FuelType: solar"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(245,100,227,1)","dash":"solid"},"hoveron":"points","name":"solar","legendgroup":"solar","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[0.14699999999999999,0.18099999999999999,0.26900000000000002,0.28899999999999998,0.35799999999999998,0.441,0.65700000000000003,0.83199999999999996,1.3480000000000001,1.875,2.3010000000000002,2.9390000000000001,3.4849999999999999,4.1379999999999999,4.4349999999999996,4.6699999999999999,5.5529999999999999,6.2750000000000004,6.4900000000000002,7.1150000000000002,8.3580000000000005,9.1080000000000005],"text":["year: 2000<br />Percentage:  0.147<br />FuelType: wind","year: 2001<br />Percentage:  0.181<br />FuelType: wind","year: 2002<br />Percentage:  0.269<br />FuelType: wind","year: 2003<br />Percentage:  0.289<br />FuelType: wind","year: 2004<br />Percentage:  0.358<br />FuelType: wind","year: 2005<br />Percentage:  0.441<br />FuelType: wind","year: 2006<br />Percentage:  0.657<br />FuelType: wind","year: 2007<br />Percentage:  0.832<br />FuelType: wind","year: 2008<br />Percentage:  1.348<br />FuelType: wind","year: 2009<br />Percentage:  1.875<br />FuelType: wind","year: 2010<br />Percentage:  2.301<br />FuelType: wind","year: 2011<br />Percentage:  2.939<br />FuelType: wind","year: 2012<br />Percentage:  3.485<br />FuelType: wind","year: 2013<br />Percentage:  4.138<br />FuelType: wind","year: 2014<br />Percentage:  4.435<br />FuelType: wind","year: 2015<br />Percentage:  4.670<br />FuelType: wind","year: 2016<br />Percentage:  5.553<br />FuelType: wind","year: 2017<br />Percentage:  6.275<br />FuelType: wind","year: 2018<br />Percentage:  6.490<br />FuelType: wind","year: 2019<br />Percentage:  7.115<br />FuelType: wind","year: 2020<br />Percentage:  8.358<br />FuelType: wind","year: 2021<br />Percentage:  9.108<br />FuelType: wind"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(255,100,176,1)","dash":"solid"},"hoveron":"points","name":"wind","legendgroup":"wind","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":49.872976338729771,"r":9.9626400996264035,"b":50.809464508094649,"l":50.809464508094649},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807},"title":{"text":"Percent of US electricity Generation By Fuel type","font":{"color":"rgba(0,0,0,1)","family":"","size":23.910336239103366},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1998.95,2022.05],"tickmode":"array","ticktext":["2000","2005","2010","2015","2020"],"tickvals":[2000,2005,2010,2015,2020],"categoryorder":"array","categoryarray":["2000","2005","2010","2015","2020"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":4.9813200498132018,"tickwidth":0.90569455451149117,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"y","title":{"text":"Year","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-3.5931000000000002,75.741100000000003],"tickmode":"array","ticktext":["0","20","40","60"],"tickvals":[0,20,39.999999999999993,60.000000000000007],"categoryorder":"array","categoryarray":["0","20","40","60"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":4.9813200498132018,"tickwidth":0.90569455451149117,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"x","title":{"text":"Percent","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":2.5769506084466713,"font":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402243},"title":{"text":"FuelType","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3cae10e754b9":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"3cae10e754b9","visdat":{"3cae10e754b9":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-share-all-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Timeseries of the percent of total US electricty generation by fuel type.
</figcaption></figure>
</div>
</div>
<p>Here we finally have a plot (<a href="#fig-share-all" class="quarto-xref">Figure&nbsp;1</a>) of the share of electricity generation by fuel type. We can see that the share of fossil fuels and coal has decreased, and renewable have increased. But there’s a lot on this plot and it’s hard to read, so I’ll focus on some more specific subsets of the data.</p>
</section><section id="total-fossil-renewables-and-nuclear-shares" class="level3"><h3 class="anchored" data-anchor-id="total-fossil-renewables-and-nuclear-shares">Total Fossil, renewables, and nuclear shares</h3>
<p>First we can look at the total shares of fossil (oil,coal, gas), renewable (wind, solar, hydro), and nuclear generation. Grouping into these categories de-clutters the plot and makes it easier to interpret.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="va">usa</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">fossil_share_elec</span>, <span class="va">renewables_share_elec</span>, <span class="va">nuclear_share_elec</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">ends_with</a></span><span class="op">(</span><span class="st">"share_elec"</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"FuelType"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"Percentage"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>FuelType <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html">str_remove</a></span><span class="op">(</span><span class="va">FuelType</span>,<span class="st">'_share_elec'</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">Percentage</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">FuelType</span><span class="op">)</span>, linewidth <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Percent of US electricity Generation"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Year"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Percent"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/ggplotly.html">ggplotly</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="fig-share-fossil-renewable-nuclear" class="cell-output-display quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-share-fossil-renewable-nuclear-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-8b4248ad008e6681f8bf" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-8b4248ad008e6681f8bf">{"x":{"data":[{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[70.941999999999993,71.861000000000004,70.959000000000003,71.234999999999999,71.313999999999993,71.870000000000005,71.129000000000005,72.135000000000005,71.191000000000003,69.176000000000002,70.066000000000003,68.207999999999998,68.775999999999996,67.713999999999999,67.188000000000002,66.853999999999999,65.001000000000005,62.683999999999997,63.341000000000001,62.241,60.148000000000003,60.509],"text":["year: 2000<br />Percentage: 70.942<br />FuelType: fossil","year: 2001<br />Percentage: 71.861<br />FuelType: fossil","year: 2002<br />Percentage: 70.959<br />FuelType: fossil","year: 2003<br />Percentage: 71.235<br />FuelType: fossil","year: 2004<br />Percentage: 71.314<br />FuelType: fossil","year: 2005<br />Percentage: 71.870<br />FuelType: fossil","year: 2006<br />Percentage: 71.129<br />FuelType: fossil","year: 2007<br />Percentage: 72.135<br />FuelType: fossil","year: 2008<br />Percentage: 71.191<br />FuelType: fossil","year: 2009<br />Percentage: 69.176<br />FuelType: fossil","year: 2010<br />Percentage: 70.066<br />FuelType: fossil","year: 2011<br />Percentage: 68.208<br />FuelType: fossil","year: 2012<br />Percentage: 68.776<br />FuelType: fossil","year: 2013<br />Percentage: 67.714<br />FuelType: fossil","year: 2014<br />Percentage: 67.188<br />FuelType: fossil","year: 2015<br />Percentage: 66.854<br />FuelType: fossil","year: 2016<br />Percentage: 65.001<br />FuelType: fossil","year: 2017<br />Percentage: 62.684<br />FuelType: fossil","year: 2018<br />Percentage: 63.341<br />FuelType: fossil","year: 2019<br />Percentage: 62.241<br />FuelType: fossil","year: 2020<br />Percentage: 60.148<br />FuelType: fossil","year: 2021<br />Percentage: 60.509<br />FuelType: fossil"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"fossil","legendgroup":"fossil","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[19.827999999999999,20.626000000000001,20.292000000000002,19.739999999999998,19.952999999999999,19.379999999999999,19.452000000000002,19.466999999999999,19.628,20.276,19.616,19.326000000000001,19.039999999999999,19.454999999999998,19.462,19.52,19.710999999999999,19.864000000000001,19.209,19.465,19.536000000000001,18.742000000000001],"text":["year: 2000<br />Percentage: 19.828<br />FuelType: nuclear","year: 2001<br />Percentage: 20.626<br />FuelType: nuclear","year: 2002<br />Percentage: 20.292<br />FuelType: nuclear","year: 2003<br />Percentage: 19.740<br />FuelType: nuclear","year: 2004<br />Percentage: 19.953<br />FuelType: nuclear","year: 2005<br />Percentage: 19.380<br />FuelType: nuclear","year: 2006<br />Percentage: 19.452<br />FuelType: nuclear","year: 2007<br />Percentage: 19.467<br />FuelType: nuclear","year: 2008<br />Percentage: 19.628<br />FuelType: nuclear","year: 2009<br />Percentage: 20.276<br />FuelType: nuclear","year: 2010<br />Percentage: 19.616<br />FuelType: nuclear","year: 2011<br />Percentage: 19.326<br />FuelType: nuclear","year: 2012<br />Percentage: 19.040<br />FuelType: nuclear","year: 2013<br />Percentage: 19.455<br />FuelType: nuclear","year: 2014<br />Percentage: 19.462<br />FuelType: nuclear","year: 2015<br />Percentage: 19.520<br />FuelType: nuclear","year: 2016<br />Percentage: 19.711<br />FuelType: nuclear","year: 2017<br />Percentage: 19.864<br />FuelType: nuclear","year: 2018<br />Percentage: 19.209<br />FuelType: nuclear","year: 2019<br />Percentage: 19.465<br />FuelType: nuclear","year: 2020<br />Percentage: 19.536<br />FuelType: nuclear","year: 2021<br />Percentage: 18.742<br />FuelType: nuclear"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(0,186,56,1)","dash":"solid"},"hoveron":"points","name":"nuclear","legendgroup":"nuclear","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[9.2300000000000004,7.5129999999999999,8.7490000000000006,9.0250000000000004,8.7330000000000005,8.7490000000000006,9.4179999999999993,8.3979999999999997,9.1809999999999992,10.548,10.318,12.467000000000001,12.183999999999999,12.831,13.35,13.625999999999999,15.288,17.452000000000002,17.449999999999999,18.295000000000002,20.315999999999999,20.75],"text":["year: 2000<br />Percentage:  9.230<br />FuelType: renewables","year: 2001<br />Percentage:  7.513<br />FuelType: renewables","year: 2002<br />Percentage:  8.749<br />FuelType: renewables","year: 2003<br />Percentage:  9.025<br />FuelType: renewables","year: 2004<br />Percentage:  8.733<br />FuelType: renewables","year: 2005<br />Percentage:  8.749<br />FuelType: renewables","year: 2006<br />Percentage:  9.418<br />FuelType: renewables","year: 2007<br />Percentage:  8.398<br />FuelType: renewables","year: 2008<br />Percentage:  9.181<br />FuelType: renewables","year: 2009<br />Percentage: 10.548<br />FuelType: renewables","year: 2010<br />Percentage: 10.318<br />FuelType: renewables","year: 2011<br />Percentage: 12.467<br />FuelType: renewables","year: 2012<br />Percentage: 12.184<br />FuelType: renewables","year: 2013<br />Percentage: 12.831<br />FuelType: renewables","year: 2014<br />Percentage: 13.350<br />FuelType: renewables","year: 2015<br />Percentage: 13.626<br />FuelType: renewables","year: 2016<br />Percentage: 15.288<br />FuelType: renewables","year: 2017<br />Percentage: 17.452<br />FuelType: renewables","year: 2018<br />Percentage: 17.450<br />FuelType: renewables","year: 2019<br />Percentage: 18.295<br />FuelType: renewables","year: 2020<br />Percentage: 20.316<br />FuelType: renewables","year: 2021<br />Percentage: 20.750<br />FuelType: renewables"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(97,156,255,1)","dash":"solid"},"hoveron":"points","name":"renewables","legendgroup":"renewables","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":49.872976338729771,"r":9.9626400996264035,"b":50.809464508094649,"l":50.809464508094649},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807},"title":{"text":"Percent of US electricity Generation","font":{"color":"rgba(0,0,0,1)","family":"","size":23.910336239103366},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1998.95,2022.05],"tickmode":"array","ticktext":["2000","2005","2010","2015","2020"],"tickvals":[2000,2005,2010,2015,2020],"categoryorder":"array","categoryarray":["2000","2005","2010","2015","2020"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":4.9813200498132018,"tickwidth":0.90569455451149117,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"y","title":{"text":"Year","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[4.2819000000000003,75.366100000000003],"tickmode":"array","ticktext":["20","40","60"],"tickvals":[20,40,60],"categoryorder":"array","categoryarray":["20","40","60"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":4.9813200498132018,"tickwidth":0.90569455451149117,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"x","title":{"text":"Percent","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":2.5769506084466713,"font":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402243},"title":{"text":"FuelType","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3cae767a4d76":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"3cae767a4d76","visdat":{"3cae767a4d76":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-share-fossil-renewable-nuclear-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Timeseries of the percent of total US electricty generation by fuel types
</figcaption></figure>
</div>
</div>
<p>Observations from this plot (<a href="#fig-share-fossil-renewable-nuclear" class="quarto-xref">Figure&nbsp;2</a>):</p>
<ul>
<li><p>Fossil fuel share has been decreasing steadily since about 2007</p></li>
<li><p>Renewable share has been increasing steadily since about 2007</p></li>
<li><p>Nuclear has remained relatively constant at around 20%.</p></li>
<li><p>Fossil share remains the majority of generation, but is decreasing. Renewables became approximately equal to nuclear around 2020 and are continuing to increase.</p></li>
</ul></section><section id="breakdown-of-fossil-fuel-shares" class="level3"><h3 class="anchored" data-anchor-id="breakdown-of-fossil-fuel-shares">Breakdown of fossil fuel shares</h3>
<ul>
<li>In this dataset, fossil fuels include coal, gas, and oil.</li>
</ul>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="va">usa</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">fossil_share_elec</span>, <span class="va">oil_share_elec</span>, <span class="va">gas_share_elec</span>, <span class="va">coal_share_elec</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">ends_with</a></span><span class="op">(</span><span class="st">"share_elec"</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"FuelType"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"Percentage"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>FuelType <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html">str_remove</a></span><span class="op">(</span><span class="va">FuelType</span>,<span class="st">'_share_elec'</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">Percentage</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">FuelType</span><span class="op">)</span>, linewidth <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Percent of US electricity Generation: Fossil Fuels"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Year"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Percent"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/ggplotly.html">ggplotly</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="fig-share-fossil" class="cell-output-display quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-share-fossil-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c63484c0d6723af2d365" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-c63484c0d6723af2d365">{"x":{"data":[{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[51.715000000000003,51.078000000000003,50.286999999999999,51.015000000000001,50.058999999999997,49.884999999999998,49.186,48.677,48.344999999999999,44.567999999999998,44.902999999999999,42.393999999999998,37.469999999999999,38.985999999999997,38.616,33.115000000000002,30.315000000000001,29.757000000000001,27.359000000000002,23.204999999999998,19.128,21.623999999999999],"text":["year: 2000<br />Percentage: 51.715<br />FuelType: coal","year: 2001<br />Percentage: 51.078<br />FuelType: coal","year: 2002<br />Percentage: 50.287<br />FuelType: coal","year: 2003<br />Percentage: 51.015<br />FuelType: coal","year: 2004<br />Percentage: 50.059<br />FuelType: coal","year: 2005<br />Percentage: 49.885<br />FuelType: coal","year: 2006<br />Percentage: 49.186<br />FuelType: coal","year: 2007<br />Percentage: 48.677<br />FuelType: coal","year: 2008<br />Percentage: 48.345<br />FuelType: coal","year: 2009<br />Percentage: 44.568<br />FuelType: coal","year: 2010<br />Percentage: 44.903<br />FuelType: coal","year: 2011<br />Percentage: 42.394<br />FuelType: coal","year: 2012<br />Percentage: 37.470<br />FuelType: coal","year: 2013<br />Percentage: 38.986<br />FuelType: coal","year: 2014<br />Percentage: 38.616<br />FuelType: coal","year: 2015<br />Percentage: 33.115<br />FuelType: coal","year: 2016<br />Percentage: 30.315<br />FuelType: coal","year: 2017<br />Percentage: 29.757<br />FuelType: coal","year: 2018<br />Percentage: 27.359<br />FuelType: coal","year: 2019<br />Percentage: 23.205<br />FuelType: coal","year: 2020<br />Percentage: 19.128<br />FuelType: coal","year: 2021<br />Percentage: 21.624<br />FuelType: coal"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"coal","legendgroup":"coal","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[70.941999999999993,71.861000000000004,70.959000000000003,71.234999999999999,71.313999999999993,71.870000000000005,71.129000000000005,72.135000000000005,71.191000000000003,69.176000000000002,70.066000000000003,68.207999999999998,68.775999999999996,67.713999999999999,67.188000000000002,66.853999999999999,65.001000000000005,62.683999999999997,63.341000000000001,62.241,60.148000000000003,60.509],"text":["year: 2000<br />Percentage: 70.942<br />FuelType: fossil","year: 2001<br />Percentage: 71.861<br />FuelType: fossil","year: 2002<br />Percentage: 70.959<br />FuelType: fossil","year: 2003<br />Percentage: 71.235<br />FuelType: fossil","year: 2004<br />Percentage: 71.314<br />FuelType: fossil","year: 2005<br />Percentage: 71.870<br />FuelType: fossil","year: 2006<br />Percentage: 71.129<br />FuelType: fossil","year: 2007<br />Percentage: 72.135<br />FuelType: fossil","year: 2008<br />Percentage: 71.191<br />FuelType: fossil","year: 2009<br />Percentage: 69.176<br />FuelType: fossil","year: 2010<br />Percentage: 70.066<br />FuelType: fossil","year: 2011<br />Percentage: 68.208<br />FuelType: fossil","year: 2012<br />Percentage: 68.776<br />FuelType: fossil","year: 2013<br />Percentage: 67.714<br />FuelType: fossil","year: 2014<br />Percentage: 67.188<br />FuelType: fossil","year: 2015<br />Percentage: 66.854<br />FuelType: fossil","year: 2016<br />Percentage: 65.001<br />FuelType: fossil","year: 2017<br />Percentage: 62.684<br />FuelType: fossil","year: 2018<br />Percentage: 63.341<br />FuelType: fossil","year: 2019<br />Percentage: 62.241<br />FuelType: fossil","year: 2020<br />Percentage: 60.148<br />FuelType: fossil","year: 2021<br />Percentage: 60.509<br />FuelType: fossil"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(124,174,0,1)","dash":"solid"},"hoveron":"points","name":"fossil","legendgroup":"fossil","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[16.175000000000001,17.146000000000001,17.975000000000001,16.797999999999998,17.968,18.859000000000002,20.173999999999999,21.643000000000001,21.497,23.376000000000001,24.009,24.791,30.338999999999999,27.734999999999999,27.504999999999999,32.651000000000003,33.719999999999999,31.992999999999999,34.966000000000001,38.134999999999998,40.170999999999999,38.036999999999999],"text":["year: 2000<br />Percentage: 16.175<br />FuelType: gas","year: 2001<br />Percentage: 17.146<br />FuelType: gas","year: 2002<br />Percentage: 17.975<br />FuelType: gas","year: 2003<br />Percentage: 16.798<br />FuelType: gas","year: 2004<br />Percentage: 17.968<br />FuelType: gas","year: 2005<br />Percentage: 18.859<br />FuelType: gas","year: 2006<br />Percentage: 20.174<br />FuelType: gas","year: 2007<br />Percentage: 21.643<br />FuelType: gas","year: 2008<br />Percentage: 21.497<br />FuelType: gas","year: 2009<br />Percentage: 23.376<br />FuelType: gas","year: 2010<br />Percentage: 24.009<br />FuelType: gas","year: 2011<br />Percentage: 24.791<br />FuelType: gas","year: 2012<br />Percentage: 30.339<br />FuelType: gas","year: 2013<br />Percentage: 27.735<br />FuelType: gas","year: 2014<br />Percentage: 27.505<br />FuelType: gas","year: 2015<br />Percentage: 32.651<br />FuelType: gas","year: 2016<br />Percentage: 33.720<br />FuelType: gas","year: 2017<br />Percentage: 31.993<br />FuelType: gas","year: 2018<br />Percentage: 34.966<br />FuelType: gas","year: 2019<br />Percentage: 38.135<br />FuelType: gas","year: 2020<br />Percentage: 40.171<br />FuelType: gas","year: 2021<br />Percentage: 38.037<br />FuelType: gas"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"gas","legendgroup":"gas","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[3.0510000000000002,3.637,2.6970000000000001,3.4220000000000002,3.286,3.1259999999999999,1.7689999999999999,1.8149999999999999,1.349,1.232,1.155,1.0229999999999999,0.96699999999999997,0.99299999999999999,1.0669999999999999,1.0880000000000001,0.96599999999999997,0.93500000000000005,1.016,0.90000000000000002,0.84899999999999998,0.84799999999999998],"text":["year: 2000<br />Percentage:  3.051<br />FuelType: oil","year: 2001<br />Percentage:  3.637<br />FuelType: oil","year: 2002<br />Percentage:  2.697<br />FuelType: oil","year: 2003<br />Percentage:  3.422<br />FuelType: oil","year: 2004<br />Percentage:  3.286<br />FuelType: oil","year: 2005<br />Percentage:  3.126<br />FuelType: oil","year: 2006<br />Percentage:  1.769<br />FuelType: oil","year: 2007<br />Percentage:  1.815<br />FuelType: oil","year: 2008<br />Percentage:  1.349<br />FuelType: oil","year: 2009<br />Percentage:  1.232<br />FuelType: oil","year: 2010<br />Percentage:  1.155<br />FuelType: oil","year: 2011<br />Percentage:  1.023<br />FuelType: oil","year: 2012<br />Percentage:  0.967<br />FuelType: oil","year: 2013<br />Percentage:  0.993<br />FuelType: oil","year: 2014<br />Percentage:  1.067<br />FuelType: oil","year: 2015<br />Percentage:  1.088<br />FuelType: oil","year: 2016<br />Percentage:  0.966<br />FuelType: oil","year: 2017<br />Percentage:  0.935<br />FuelType: oil","year: 2018<br />Percentage:  1.016<br />FuelType: oil","year: 2019<br />Percentage:  0.900<br />FuelType: oil","year: 2020<br />Percentage:  0.849<br />FuelType: oil","year: 2021<br />Percentage:  0.848<br />FuelType: oil"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(199,124,255,1)","dash":"solid"},"hoveron":"points","name":"oil","legendgroup":"oil","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":49.872976338729771,"r":9.9626400996264035,"b":50.809464508094649,"l":50.809464508094649},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807},"title":{"text":"Percent of US electricity Generation: Fossil Fuels","font":{"color":"rgba(0,0,0,1)","family":"","size":23.910336239103366},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1998.95,2022.05],"tickmode":"array","ticktext":["2000","2005","2010","2015","2020"],"tickvals":[2000,2005,2010,2015,2020],"categoryorder":"array","categoryarray":["2000","2005","2010","2015","2020"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":4.9813200498132018,"tickwidth":0.90569455451149117,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"y","title":{"text":"Year","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.7163500000000007,75.69935000000001],"tickmode":"array","ticktext":["0","20","40","60"],"tickvals":[0,20,40,60],"categoryorder":"array","categoryarray":["0","20","40","60"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":4.9813200498132018,"tickwidth":0.90569455451149117,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"x","title":{"text":"Percent","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":2.5769506084466713,"font":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402243},"title":{"text":"FuelType","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3cae62773ca9":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"3cae62773ca9","visdat":{"3cae62773ca9":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-share-fossil-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Timeseries of the percent of total US electricty generation by fossil fuels
</figcaption></figure>
</div>
</div>
<p>Observations from this plot (<a href="#fig-share-fossil" class="quarto-xref">Figure&nbsp;3</a>):</p>
<ul>
<li><p>We can see that the fossil fuel share of electricity generation has been decreasing, starting around 2008.</p></li>
<li><p>Coal and gas make up the majority of the fossil fuel generation.</p></li>
<li><p>Coal share has been decreasing while the gas share has increased. Coal was much higher than gas previously, but their shares became equal around 2015 and gas now makes up a larger share of the fossil fuel generation.</p></li>
</ul></section><section id="renewables-breakdown" class="level3"><h3 class="anchored" data-anchor-id="renewables-breakdown">Renewables breakdown</h3>
<ul>
<li>In this dataset, renewables include wind, solar, and hydro.</li>
</ul>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="va">usa</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span></span>
<span>    <span class="va">year</span>, <span class="va">renewables_share_elec</span>, <span class="va">solar_share_elec</span>,</span>
<span>    <span class="va">hydro_share_elec</span>, <span class="va">wind_share_elec</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">ends_with</a></span><span class="op">(</span><span class="st">"share_elec"</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"FuelType"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"Percentage"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>FuelType <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html">str_remove</a></span><span class="op">(</span><span class="va">FuelType</span>,<span class="st">'_share_elec'</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">Percentage</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">FuelType</span><span class="op">)</span>, linewidth <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Percent of US electricity Generation: Renewables"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Year"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Percent"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu">plotly</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotly/man/ggplotly.html">ggplotly</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="fig-share-renewable" class="cell-output-display quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-share-renewable-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-ea3dfd3cbaad3fbbaf06" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-ea3dfd3cbaad3fbbaf06">{"x":{"data":[{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[7.1020000000000003,5.5839999999999996,6.649,6.9080000000000004,6.577,6.5369999999999999,6.9850000000000003,5.8079999999999998,6.0510000000000002,6.8230000000000004,6.1909999999999998,7.6529999999999996,6.7140000000000004,6.5069999999999997,6.181,5.9740000000000002,6.3879999999999999,7.2510000000000003,6.8220000000000001,6.7960000000000003,6.9240000000000004,5.9359999999999999],"text":["year: 2000<br />Percentage:  7.102<br />FuelType: hydro","year: 2001<br />Percentage:  5.584<br />FuelType: hydro","year: 2002<br />Percentage:  6.649<br />FuelType: hydro","year: 2003<br />Percentage:  6.908<br />FuelType: hydro","year: 2004<br />Percentage:  6.577<br />FuelType: hydro","year: 2005<br />Percentage:  6.537<br />FuelType: hydro","year: 2006<br />Percentage:  6.985<br />FuelType: hydro","year: 2007<br />Percentage:  5.808<br />FuelType: hydro","year: 2008<br />Percentage:  6.051<br />FuelType: hydro","year: 2009<br />Percentage:  6.823<br />FuelType: hydro","year: 2010<br />Percentage:  6.191<br />FuelType: hydro","year: 2011<br />Percentage:  7.653<br />FuelType: hydro","year: 2012<br />Percentage:  6.714<br />FuelType: hydro","year: 2013<br />Percentage:  6.507<br />FuelType: hydro","year: 2014<br />Percentage:  6.181<br />FuelType: hydro","year: 2015<br />Percentage:  5.974<br />FuelType: hydro","year: 2016<br />Percentage:  6.388<br />FuelType: hydro","year: 2017<br />Percentage:  7.251<br />FuelType: hydro","year: 2018<br />Percentage:  6.822<br />FuelType: hydro","year: 2019<br />Percentage:  6.796<br />FuelType: hydro","year: 2020<br />Percentage:  6.924<br />FuelType: hydro","year: 2021<br />Percentage:  5.936<br />FuelType: hydro"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"hydro","legendgroup":"hydro","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[9.2300000000000004,7.5129999999999999,8.7490000000000006,9.0250000000000004,8.7330000000000005,8.7490000000000006,9.4179999999999993,8.3979999999999997,9.1809999999999992,10.548,10.318,12.467000000000001,12.183999999999999,12.831,13.35,13.625999999999999,15.288,17.452000000000002,17.449999999999999,18.295000000000002,20.315999999999999,20.75],"text":["year: 2000<br />Percentage:  9.230<br />FuelType: renewables","year: 2001<br />Percentage:  7.513<br />FuelType: renewables","year: 2002<br />Percentage:  8.749<br />FuelType: renewables","year: 2003<br />Percentage:  9.025<br />FuelType: renewables","year: 2004<br />Percentage:  8.733<br />FuelType: renewables","year: 2005<br />Percentage:  8.749<br />FuelType: renewables","year: 2006<br />Percentage:  9.418<br />FuelType: renewables","year: 2007<br />Percentage:  8.398<br />FuelType: renewables","year: 2008<br />Percentage:  9.181<br />FuelType: renewables","year: 2009<br />Percentage: 10.548<br />FuelType: renewables","year: 2010<br />Percentage: 10.318<br />FuelType: renewables","year: 2011<br />Percentage: 12.467<br />FuelType: renewables","year: 2012<br />Percentage: 12.184<br />FuelType: renewables","year: 2013<br />Percentage: 12.831<br />FuelType: renewables","year: 2014<br />Percentage: 13.350<br />FuelType: renewables","year: 2015<br />Percentage: 13.626<br />FuelType: renewables","year: 2016<br />Percentage: 15.288<br />FuelType: renewables","year: 2017<br />Percentage: 17.452<br />FuelType: renewables","year: 2018<br />Percentage: 17.450<br />FuelType: renewables","year: 2019<br />Percentage: 18.295<br />FuelType: renewables","year: 2020<br />Percentage: 20.316<br />FuelType: renewables","year: 2021<br />Percentage: 20.750<br />FuelType: renewables"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(124,174,0,1)","dash":"solid"},"hoveron":"points","name":"renewables","legendgroup":"renewables","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[0.012999999999999999,0.014,0.014,0.014,0.014999999999999999,0.014,0.012999999999999999,0.014999999999999999,0.021000000000000001,0.023,0.029000000000000001,0.044999999999999998,0.107,0.223,0.70599999999999996,0.95599999999999996,1.3420000000000001,1.907,2.222,2.5699999999999998,3.2330000000000001,3.96],"text":["year: 2000<br />Percentage:  0.013<br />FuelType: solar","year: 2001<br />Percentage:  0.014<br />FuelType: solar","year: 2002<br />Percentage:  0.014<br />FuelType: solar","year: 2003<br />Percentage:  0.014<br />FuelType: solar","year: 2004<br />Percentage:  0.015<br />FuelType: solar","year: 2005<br />Percentage:  0.014<br />FuelType: solar","year: 2006<br />Percentage:  0.013<br />FuelType: solar","year: 2007<br />Percentage:  0.015<br />FuelType: solar","year: 2008<br />Percentage:  0.021<br />FuelType: solar","year: 2009<br />Percentage:  0.023<br />FuelType: solar","year: 2010<br />Percentage:  0.029<br />FuelType: solar","year: 2011<br />Percentage:  0.045<br />FuelType: solar","year: 2012<br />Percentage:  0.107<br />FuelType: solar","year: 2013<br />Percentage:  0.223<br />FuelType: solar","year: 2014<br />Percentage:  0.706<br />FuelType: solar","year: 2015<br />Percentage:  0.956<br />FuelType: solar","year: 2016<br />Percentage:  1.342<br />FuelType: solar","year: 2017<br />Percentage:  1.907<br />FuelType: solar","year: 2018<br />Percentage:  2.222<br />FuelType: solar","year: 2019<br />Percentage:  2.570<br />FuelType: solar","year: 2020<br />Percentage:  3.233<br />FuelType: solar","year: 2021<br />Percentage:  3.960<br />FuelType: solar"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"solar","legendgroup":"solar","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[0.14699999999999999,0.18099999999999999,0.26900000000000002,0.28899999999999998,0.35799999999999998,0.441,0.65700000000000003,0.83199999999999996,1.3480000000000001,1.875,2.3010000000000002,2.9390000000000001,3.4849999999999999,4.1379999999999999,4.4349999999999996,4.6699999999999999,5.5529999999999999,6.2750000000000004,6.4900000000000002,7.1150000000000002,8.3580000000000005,9.1080000000000005],"text":["year: 2000<br />Percentage:  0.147<br />FuelType: wind","year: 2001<br />Percentage:  0.181<br />FuelType: wind","year: 2002<br />Percentage:  0.269<br />FuelType: wind","year: 2003<br />Percentage:  0.289<br />FuelType: wind","year: 2004<br />Percentage:  0.358<br />FuelType: wind","year: 2005<br />Percentage:  0.441<br />FuelType: wind","year: 2006<br />Percentage:  0.657<br />FuelType: wind","year: 2007<br />Percentage:  0.832<br />FuelType: wind","year: 2008<br />Percentage:  1.348<br />FuelType: wind","year: 2009<br />Percentage:  1.875<br />FuelType: wind","year: 2010<br />Percentage:  2.301<br />FuelType: wind","year: 2011<br />Percentage:  2.939<br />FuelType: wind","year: 2012<br />Percentage:  3.485<br />FuelType: wind","year: 2013<br />Percentage:  4.138<br />FuelType: wind","year: 2014<br />Percentage:  4.435<br />FuelType: wind","year: 2015<br />Percentage:  4.670<br />FuelType: wind","year: 2016<br />Percentage:  5.553<br />FuelType: wind","year: 2017<br />Percentage:  6.275<br />FuelType: wind","year: 2018<br />Percentage:  6.490<br />FuelType: wind","year: 2019<br />Percentage:  7.115<br />FuelType: wind","year: 2020<br />Percentage:  8.358<br />FuelType: wind","year: 2021<br />Percentage:  9.108<br />FuelType: wind"],"type":"scatter","mode":"lines","line":{"width":5.6692913385826778,"color":"rgba(199,124,255,1)","dash":"solid"},"hoveron":"points","name":"wind","legendgroup":"wind","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":49.872976338729771,"r":9.9626400996264035,"b":50.809464508094649,"l":50.809464508094649},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807},"title":{"text":"Percent of US electricity Generation: Renewables","font":{"color":"rgba(0,0,0,1)","family":"","size":23.910336239103366},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1998.95,2022.05],"tickmode":"array","ticktext":["2000","2005","2010","2015","2020"],"tickvals":[2000,2005,2010,2015,2020],"categoryorder":"array","categoryarray":["2000","2005","2010","2015","2020"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":4.9813200498132018,"tickwidth":0.90569455451149117,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"y","title":{"text":"Year","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.0238500000000001,21.786850000000001],"tickmode":"array","ticktext":["0","5","10","15","20"],"tickvals":[0,5,10,15,20],"categoryorder":"array","categoryarray":["0","5","10","15","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":4.9813200498132018,"tickwidth":0.90569455451149117,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"x","title":{"text":"Percent","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":2.5769506084466713,"font":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402243},"title":{"text":"FuelType","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3cae190e2d2e":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"3cae190e2d2e","visdat":{"3cae190e2d2e":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-share-renewable-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Timeseries of the percent of total US electricty generation renewable fuels
</figcaption></figure>
</div>
</div>
<p>Observations from this plot (<a href="#fig-share-renewable" class="quarto-xref">Figure&nbsp;4</a>):</p>
<ul>
<li><p>The share of renewable electricity production has increased sharply, approximately doubling from 2008 to 2020.</p></li>
<li><p>The share of hydro generation has remained relatively constant.</p></li>
<li>
<p>Solar and wind shares have increased significantly.</p>
<ul>
<li><p>Wind started to increase earlier, around 2005.</p></li>
<li><p>Solar started increasing around 2012</p></li>
</ul>
</li>
</ul></section></section></section><section id="sessioninfo" class="level1"><h1>SessionInfo</h1>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>R version 4.3.1 (2023-06-16)
Platform: x86_64-apple-darwin20 (64-bit)
Running under: macOS Sonoma 14.2

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRblas.0.dylib 
LAPACK: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

time zone: America/Denver
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base     

other attached packages:
 [1] plotly_4.10.3   lubridate_1.9.3 forcats_1.0.0   stringr_1.5.0  
 [5] dplyr_1.1.3     purrr_1.0.2     readr_2.1.4     tidyr_1.3.0    
 [9] tibble_3.2.1    ggplot2_3.4.4   tidyverse_2.0.0

loaded via a namespace (and not attached):
 [1] sass_0.4.7        utf8_1.2.4        generics_0.1.3    renv_1.0.3       
 [5] stringi_1.7.12    hms_1.1.3         digest_0.6.33     magrittr_2.0.3   
 [9] evaluate_0.22     grid_4.3.1        timechange_0.2.0  fastmap_1.1.1    
[13] jsonlite_1.8.7    httr_1.4.7        fansi_1.0.5       crosstalk_1.2.0  
[17] viridisLite_0.4.2 scales_1.2.1      jquerylib_0.1.4   lazyeval_0.2.2   
[21] cli_3.6.1         rlang_1.1.1       crayon_1.5.2      ellipsis_0.3.2   
[25] bit64_4.0.5       munsell_0.5.0     cachem_1.0.8      withr_2.5.1      
[29] yaml_2.3.7        parallel_4.3.1    tools_4.3.1       tzdb_0.4.0       
[33] colorspace_2.1-0  DT_0.30           curl_5.1.0        vctrs_0.6.4      
[37] R6_2.5.1          lifecycle_1.0.3   htmlwidgets_1.6.2 bit_4.0.5        
[41] vroom_1.6.4       pkgconfig_2.0.3   bslib_0.5.1       pillar_1.9.0     
[45] gtable_0.3.4      glue_1.6.2        data.table_1.14.8 xfun_0.40        
[49] tidyselect_1.2.0  rstudioapi_0.15.0 knitr_1.44        farver_2.1.1     
[53] htmltools_0.5.6.1 labeling_0.4.3    rmarkdown_2.25    compiler_4.3.1   </code></pre>
</div>
</div>
<section id="references" class="level2">


<!-- -->


</section></section><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-owidenergy" class="csl-entry" role="listitem">
Ritchie, Hannah, Max Roser, and Pablo Rosado. 2022. <span>“Energy.”</span> <em>Our World in Data</em>.
</div>
<div id="ref-tidyverse-2" class="csl-entry" role="listitem">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“Welcome to the <span></span>Tidyverse<span></span>”</span> 4: 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
<div id="ref-dplyr" class="csl-entry" role="listitem">
Wickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. <span>“Dplyr: A Grammar of Data Manipulation.”</span> <a href="https://CRAN.R-project.org/package=dplyr">https://CRAN.R-project.org/package=dplyr</a>.
</div>
<div id="ref-tidyr" class="csl-entry" role="listitem">
Wickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2023. <span>“Tidyr: Tidy Messy Data.”</span> <a href="https://CRAN.R-project.org/package=tidyr">https://CRAN.R-project.org/package=tidyr</a>.
</div>
</div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb14" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Tidy Tuesday Energy Analysis"</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="an">bibliography:</span><span class="co"> references.bib</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="an">image:</span><span class="co"> image.jpg</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "2023-06-17"</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="an">date-modified:</span><span class="co"> today</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span><span class="co"> [energy, TidyTuesday, R, visualization]</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="an">fig-width:</span><span class="co"> 10</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="an">fig-height:</span><span class="co"> 8</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="an">tbl-cap-location:</span><span class="co"> bottom</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="co">    code-link: true</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: show</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="an">freeze:</span><span class="co"> auto</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="fu"># Tidy Tuesday: Energy (2023 - Week 23)</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="fu">## Introduction</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>In this document I'll analyze and visualize some energy data that were the focus of <span class="co">[</span><span class="ot">Tidy Tuesday 2023 week 23</span><span class="co">](https://github.com/rfordatascience/tidytuesday/tree/master/data/2023/2023-06-06)</span>. The data comes from <span class="co">[</span><span class="ot">Our World In Data</span><span class="co">](https://ourworldindata.org/about)</span> and the full data set is available <span class="co">[</span><span class="ot">here</span><span class="co">](https://github.com/owid/energy-data)</span>. Data Source Citation: @owidenergy.</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a><span class="fu">## Analysis and Visualization</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>I'll start by loading the *tidyverse* (@tidyverse-2) library and the data set. The result is a dataframe with a row for each country and year, from 1900-2002.</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Load Data}</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a><span class="in">suppressPackageStartupMessages(library(tidyverse))</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a><span class="in">suppressPackageStartupMessages(library(plotly))</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a><span class="in">ggplot2::theme_set(theme_grey(base_size = 15))</span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a><span class="in">owid_energy &lt;- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-06-06/owid-energy.csv", show_col_types = FALSE)</span></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a><span class="in">head(owid_energy)</span></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>How many countries are in the dataset?</span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(owid_energy<span class="sc">$</span>country))</span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>That's a lot! I'll focus on just the United States for now.</span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>I also noticed that the data set goes back to 1900 but a a lot of the data for earlier years are missing/NA so I'll filter those out as well.</span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>It looks like we have data for the USA from 2000-2021.</span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a>Make a new dataframe for just the USA data and remove years without data:</span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a>usa <span class="ot">&lt;-</span> owid_energy <span class="sc">%&gt;%</span></span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"United States"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-60"><a href="#cb14-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(electricity_demand))</span>
<span id="cb14-61"><a href="#cb14-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-62"><a href="#cb14-62" aria-hidden="true" tabindex="-1"></a>usa <span class="sc">|&gt;</span></span>
<span id="cb14-63"><a href="#cb14-63" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">rownames =</span> <span class="cn">FALSE</span>, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">5</span>))</span>
<span id="cb14-64"><a href="#cb14-64" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb14-65"><a href="#cb14-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-66"><a href="#cb14-66" aria-hidden="true" tabindex="-1"></a><span class="fu">### Share of electricity generation by fuel type</span></span>
<span id="cb14-67"><a href="#cb14-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-68"><a href="#cb14-68" aria-hidden="true" tabindex="-1"></a>For this analysis, I've chosen to investigate how the mix of fuel types used to generate electricity has changed over time. We need to reduce carbon emissions in order to prevent or mitigate the effects of climate change, and electricity generation is a large component of these emissions. I'm interested to see what progress has been made in transitioning to more renewable/low-carbon fuels for electricity generation.</span>
<span id="cb14-69"><a href="#cb14-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-70"><a href="#cb14-70" aria-hidden="true" tabindex="-1"></a>Conveniently, the data already contain fields for the share of total electricity generation for each fuel type! I'll make a new data frame with just these fields. I can select these columns (all ending in *share_elec*), using the *ends_with* function from the *dplyr* (@dplyr) package.</span>
<span id="cb14-71"><a href="#cb14-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-74"><a href="#cb14-74" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb14-75"><a href="#cb14-75" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-perc-wide</span></span>
<span id="cb14-76"><a href="#cb14-76" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Percent of electricity generation by fueltype"</span></span>
<span id="cb14-77"><a href="#cb14-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-78"><a href="#cb14-78" aria-hidden="true" tabindex="-1"></a>usa <span class="sc">%&gt;%</span></span>
<span id="cb14-79"><a href="#cb14-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, dplyr<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">"share_elec"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-80"><a href="#cb14-80" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">rownames =</span> <span class="cn">FALSE</span>, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">5</span>))</span>
<span id="cb14-81"><a href="#cb14-81" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb14-82"><a href="#cb14-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-83"><a href="#cb14-83" aria-hidden="true" tabindex="-1"></a>Now I have a dataframe (@tbl-perc-wide) with just the variables I want to plot, but the format isn't ideal; I would have to specify/plot each variable separately. What I want to do is give a single plot command and group/color the lines by the variable (fuel type). To achieve this, I am going to pivot the data frame from wide to long format, using the *pivot_longer* function from the *tidyr* (@tidyr) package.</span>
<span id="cb14-84"><a href="#cb14-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-85"><a href="#cb14-85" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb14-86"><a href="#cb14-86" aria-hidden="true" tabindex="-1"></a>The *pivot\_* functions in *tidyr* (@tidyr) package were previously referred to as *gather* or *melt*.</span>
<span id="cb14-87"><a href="#cb14-87" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb14-88"><a href="#cb14-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-91"><a href="#cb14-91" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb14-92"><a href="#cb14-92" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-perc-long</span></span>
<span id="cb14-93"><a href="#cb14-93" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Percent of electricity generation by fueltype"</span></span>
<span id="cb14-94"><a href="#cb14-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-95"><a href="#cb14-95" aria-hidden="true" tabindex="-1"></a>usa_share <span class="ot">&lt;-</span> usa <span class="sc">%&gt;%</span></span>
<span id="cb14-96"><a href="#cb14-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, <span class="fu">ends_with</span>(<span class="st">"share_elec"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-97"><a href="#cb14-97" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb14-98"><a href="#cb14-98" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">ends_with</span>(<span class="st">"share_elec"</span>),</span>
<span id="cb14-99"><a href="#cb14-99" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"FuelType"</span>,</span>
<span id="cb14-100"><a href="#cb14-100" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"Percentage"</span>) <span class="sc">|&gt;</span></span>
<span id="cb14-101"><a href="#cb14-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">FuelType =</span> <span class="fu">str_remove</span>(FuelType,<span class="st">'_share_elec'</span>)) </span>
<span id="cb14-102"><a href="#cb14-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-103"><a href="#cb14-103" aria-hidden="true" tabindex="-1"></a>usa_share <span class="sc">|&gt;</span></span>
<span id="cb14-104"><a href="#cb14-104" aria-hidden="true" tabindex="-1"></a>    DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">rownames =</span> <span class="cn">FALSE</span>, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">5</span>))</span>
<span id="cb14-105"><a href="#cb14-105" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb14-106"><a href="#cb14-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-107"><a href="#cb14-107" aria-hidden="true" tabindex="-1"></a>Now my dataframe (@tbl-perc-long) has a row for each year, fuel type, and value, and I can simply group or color by the fuel type when I plot.</span>
<span id="cb14-108"><a href="#cb14-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-111"><a href="#cb14-111" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb14-112"><a href="#cb14-112" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-share-all</span></span>
<span id="cb14-113"><a href="#cb14-113" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-alt: Timeseries of the percent of total US electricty generation by fuel type.</span></span>
<span id="cb14-114"><a href="#cb14-114" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 8</span></span>
<span id="cb14-115"><a href="#cb14-115" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: Timeseries of the percent of total US electricty generation by fuel type.</span></span>
<span id="cb14-116"><a href="#cb14-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-117"><a href="#cb14-117" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> usa_share <span class="sc">%&gt;%</span></span>
<span id="cb14-118"><a href="#cb14-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(year, Percentage)) <span class="sc">+</span></span>
<span id="cb14-119"><a href="#cb14-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> FuelType), <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb14-120"><a href="#cb14-120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Percent of US electricity Generation By Fuel type"</span>) <span class="sc">+</span></span>
<span id="cb14-121"><a href="#cb14-121" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Year"</span>) <span class="sc">+</span></span>
<span id="cb14-122"><a href="#cb14-122" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Percent"</span>)</span>
<span id="cb14-123"><a href="#cb14-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-124"><a href="#cb14-124" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">ggplotly</span>(g)</span>
<span id="cb14-125"><a href="#cb14-125" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb14-126"><a href="#cb14-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-127"><a href="#cb14-127" aria-hidden="true" tabindex="-1"></a>Here we finally have a plot (@fig-share-all) of the share of electricity generation by fuel type. We can see that the share of fossil fuels and coal has decreased, and renewable have increased. But there's a lot on this plot and it's hard to read, so I'll focus on some more specific subsets of the data.</span>
<span id="cb14-128"><a href="#cb14-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-129"><a href="#cb14-129" aria-hidden="true" tabindex="-1"></a><span class="fu">### Total Fossil, renewables, and nuclear shares</span></span>
<span id="cb14-130"><a href="#cb14-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-131"><a href="#cb14-131" aria-hidden="true" tabindex="-1"></a>First we can look at the total shares of fossil (oil,coal, gas), renewable (wind, solar, hydro), and nuclear generation. Grouping into these categories de-clutters the plot and makes it easier to interpret.</span>
<span id="cb14-132"><a href="#cb14-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-135"><a href="#cb14-135" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb14-136"><a href="#cb14-136" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-share-fossil-renewable-nuclear</span></span>
<span id="cb14-137"><a href="#cb14-137" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Timeseries of the percent of total US electricty generation by fuel types"</span></span>
<span id="cb14-138"><a href="#cb14-138" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-alt: Timeseries of the percent of total US electricty generation by fuel types.</span></span>
<span id="cb14-139"><a href="#cb14-139" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 8</span></span>
<span id="cb14-140"><a href="#cb14-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-141"><a href="#cb14-141" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> usa <span class="sc">%&gt;%</span></span>
<span id="cb14-142"><a href="#cb14-142" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, fossil_share_elec, renewables_share_elec, nuclear_share_elec) <span class="sc">%&gt;%</span></span>
<span id="cb14-143"><a href="#cb14-143" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb14-144"><a href="#cb14-144" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> dplyr<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">"share_elec"</span>),</span>
<span id="cb14-145"><a href="#cb14-145" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"FuelType"</span>,</span>
<span id="cb14-146"><a href="#cb14-146" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"Percentage"</span></span>
<span id="cb14-147"><a href="#cb14-147" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb14-148"><a href="#cb14-148" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">FuelType =</span> <span class="fu">str_remove</span>(FuelType,<span class="st">'_share_elec'</span>)) <span class="sc">|&gt;</span></span>
<span id="cb14-149"><a href="#cb14-149" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(year, Percentage)) <span class="sc">+</span></span>
<span id="cb14-150"><a href="#cb14-150" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> FuelType), <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb14-151"><a href="#cb14-151" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Percent of US electricity Generation"</span>) <span class="sc">+</span></span>
<span id="cb14-152"><a href="#cb14-152" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Year"</span>) <span class="sc">+</span></span>
<span id="cb14-153"><a href="#cb14-153" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Percent"</span>)</span>
<span id="cb14-154"><a href="#cb14-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-155"><a href="#cb14-155" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">ggplotly</span>(g)</span>
<span id="cb14-156"><a href="#cb14-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-157"><a href="#cb14-157" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb14-158"><a href="#cb14-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-159"><a href="#cb14-159" aria-hidden="true" tabindex="-1"></a>Observations from this plot (@fig-share-fossil-renewable-nuclear):</span>
<span id="cb14-160"><a href="#cb14-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-161"><a href="#cb14-161" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Fossil fuel share has been decreasing steadily since about 2007</span>
<span id="cb14-162"><a href="#cb14-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-163"><a href="#cb14-163" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Renewable share has been increasing steadily since about 2007</span>
<span id="cb14-164"><a href="#cb14-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-165"><a href="#cb14-165" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Nuclear has remained relatively constant at around 20%.</span>
<span id="cb14-166"><a href="#cb14-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-167"><a href="#cb14-167" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Fossil share remains the majority of generation, but is decreasing. Renewables became approximately equal to nuclear around 2020 and are continuing to increase.</span>
<span id="cb14-168"><a href="#cb14-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-169"><a href="#cb14-169" aria-hidden="true" tabindex="-1"></a><span class="fu">### Breakdown of fossil fuel shares</span></span>
<span id="cb14-170"><a href="#cb14-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-171"><a href="#cb14-171" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>In this dataset, fossil fuels include coal, gas, and oil.</span>
<span id="cb14-172"><a href="#cb14-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-173"><a href="#cb14-173" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Plot fossil fuel shares}</span></span>
<span id="cb14-174"><a href="#cb14-174" aria-hidden="true" tabindex="-1"></a><span class="in">#| label: fig-share-fossil</span></span>
<span id="cb14-175"><a href="#cb14-175" aria-hidden="true" tabindex="-1"></a><span class="in">#| fig-cap: "Timeseries of the percent of total US electricty generation by fossil fuels"</span></span>
<span id="cb14-176"><a href="#cb14-176" aria-hidden="true" tabindex="-1"></a><span class="in">#| fig-alt: Timeseries of the percent of total US electricty generation by fossil fuels.</span></span>
<span id="cb14-177"><a href="#cb14-177" aria-hidden="true" tabindex="-1"></a><span class="in">#| fig-width: 8</span></span>
<span id="cb14-178"><a href="#cb14-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-179"><a href="#cb14-179" aria-hidden="true" tabindex="-1"></a><span class="in">g &lt;- usa %&gt;%</span></span>
<span id="cb14-180"><a href="#cb14-180" aria-hidden="true" tabindex="-1"></a><span class="in">  select(year, fossil_share_elec, oil_share_elec, gas_share_elec, coal_share_elec) %&gt;%</span></span>
<span id="cb14-181"><a href="#cb14-181" aria-hidden="true" tabindex="-1"></a><span class="in">  tidyr::pivot_longer(</span></span>
<span id="cb14-182"><a href="#cb14-182" aria-hidden="true" tabindex="-1"></a><span class="in">    cols = dplyr::ends_with("share_elec"),</span></span>
<span id="cb14-183"><a href="#cb14-183" aria-hidden="true" tabindex="-1"></a><span class="in">    names_to = "FuelType",</span></span>
<span id="cb14-184"><a href="#cb14-184" aria-hidden="true" tabindex="-1"></a><span class="in">    values_to = "Percentage"</span></span>
<span id="cb14-185"><a href="#cb14-185" aria-hidden="true" tabindex="-1"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb14-186"><a href="#cb14-186" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(FuelType = str_remove(FuelType,'_share_elec')) |&gt;</span></span>
<span id="cb14-187"><a href="#cb14-187" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(year, Percentage)) +</span></span>
<span id="cb14-188"><a href="#cb14-188" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_line(aes(color = FuelType), linewidth = 1.5) +</span></span>
<span id="cb14-189"><a href="#cb14-189" aria-hidden="true" tabindex="-1"></a><span class="in">  ggtitle("Percent of US electricity Generation: Fossil Fuels") +</span></span>
<span id="cb14-190"><a href="#cb14-190" aria-hidden="true" tabindex="-1"></a><span class="in">  xlab("Year") +</span></span>
<span id="cb14-191"><a href="#cb14-191" aria-hidden="true" tabindex="-1"></a><span class="in">  ylab("Percent")</span></span>
<span id="cb14-192"><a href="#cb14-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-193"><a href="#cb14-193" aria-hidden="true" tabindex="-1"></a><span class="in">plotly::ggplotly(g)</span></span>
<span id="cb14-194"><a href="#cb14-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-195"><a href="#cb14-195" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb14-196"><a href="#cb14-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-197"><a href="#cb14-197" aria-hidden="true" tabindex="-1"></a>Observations from this plot (@fig-share-fossil):</span>
<span id="cb14-198"><a href="#cb14-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-199"><a href="#cb14-199" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>We can see that the fossil fuel share of electricity generation has been decreasing, starting around 2008.</span>
<span id="cb14-200"><a href="#cb14-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-201"><a href="#cb14-201" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Coal and gas make up the majority of the fossil fuel generation.</span>
<span id="cb14-202"><a href="#cb14-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-203"><a href="#cb14-203" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Coal share has been decreasing while the gas share has increased. Coal was much higher than gas previously, but their shares became equal around 2015 and gas now makes up a larger share of the fossil fuel generation.</span>
<span id="cb14-204"><a href="#cb14-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-205"><a href="#cb14-205" aria-hidden="true" tabindex="-1"></a><span class="fu">### Renewables breakdown</span></span>
<span id="cb14-206"><a href="#cb14-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-207"><a href="#cb14-207" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>In this dataset, renewables include wind, solar, and hydro.</span>
<span id="cb14-208"><a href="#cb14-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-209"><a href="#cb14-209" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Plot Renewables Shares}</span></span>
<span id="cb14-210"><a href="#cb14-210" aria-hidden="true" tabindex="-1"></a><span class="in">#| label: fig-share-renewable</span></span>
<span id="cb14-211"><a href="#cb14-211" aria-hidden="true" tabindex="-1"></a><span class="in">#| fig-cap: "Timeseries of the percent of total US electricty generation renewable fuels"</span></span>
<span id="cb14-212"><a href="#cb14-212" aria-hidden="true" tabindex="-1"></a><span class="in">#| fig-alt: Timeseries of the percent of total US electricty generation renewable fuels.</span></span>
<span id="cb14-213"><a href="#cb14-213" aria-hidden="true" tabindex="-1"></a><span class="in">#| fig-width: 8</span></span>
<span id="cb14-214"><a href="#cb14-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-215"><a href="#cb14-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-216"><a href="#cb14-216" aria-hidden="true" tabindex="-1"></a><span class="in">g &lt;- usa %&gt;%</span></span>
<span id="cb14-217"><a href="#cb14-217" aria-hidden="true" tabindex="-1"></a><span class="in">  select(</span></span>
<span id="cb14-218"><a href="#cb14-218" aria-hidden="true" tabindex="-1"></a><span class="in">    year, renewables_share_elec, solar_share_elec,</span></span>
<span id="cb14-219"><a href="#cb14-219" aria-hidden="true" tabindex="-1"></a><span class="in">    hydro_share_elec, wind_share_elec</span></span>
<span id="cb14-220"><a href="#cb14-220" aria-hidden="true" tabindex="-1"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb14-221"><a href="#cb14-221" aria-hidden="true" tabindex="-1"></a><span class="in">  tidyr::pivot_longer(</span></span>
<span id="cb14-222"><a href="#cb14-222" aria-hidden="true" tabindex="-1"></a><span class="in">    cols = dplyr::ends_with("share_elec"),</span></span>
<span id="cb14-223"><a href="#cb14-223" aria-hidden="true" tabindex="-1"></a><span class="in">    names_to = "FuelType",</span></span>
<span id="cb14-224"><a href="#cb14-224" aria-hidden="true" tabindex="-1"></a><span class="in">    values_to = "Percentage"</span></span>
<span id="cb14-225"><a href="#cb14-225" aria-hidden="true" tabindex="-1"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb14-226"><a href="#cb14-226" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(FuelType = str_remove(FuelType,'_share_elec')) |&gt;</span></span>
<span id="cb14-227"><a href="#cb14-227" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(year, Percentage)) +</span></span>
<span id="cb14-228"><a href="#cb14-228" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_line(aes(color = FuelType), linewidth = 1.5) +</span></span>
<span id="cb14-229"><a href="#cb14-229" aria-hidden="true" tabindex="-1"></a><span class="in">  ggtitle("Percent of US electricity Generation: Renewables") +</span></span>
<span id="cb14-230"><a href="#cb14-230" aria-hidden="true" tabindex="-1"></a><span class="in">  xlab("Year") +</span></span>
<span id="cb14-231"><a href="#cb14-231" aria-hidden="true" tabindex="-1"></a><span class="in">  ylab("Percent")</span></span>
<span id="cb14-232"><a href="#cb14-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-233"><a href="#cb14-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-234"><a href="#cb14-234" aria-hidden="true" tabindex="-1"></a><span class="in">plotly::ggplotly(g)</span></span>
<span id="cb14-235"><a href="#cb14-235" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb14-236"><a href="#cb14-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-237"><a href="#cb14-237" aria-hidden="true" tabindex="-1"></a>Observations from this plot (@fig-share-renewable):</span>
<span id="cb14-238"><a href="#cb14-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-239"><a href="#cb14-239" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The share of renewable electricity production has increased sharply, approximately doubling from 2008 to 2020.</span>
<span id="cb14-240"><a href="#cb14-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-241"><a href="#cb14-241" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The share of hydro generation has remained relatively constant.</span>
<span id="cb14-242"><a href="#cb14-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-243"><a href="#cb14-243" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Solar and wind shares have increased significantly.</span>
<span id="cb14-244"><a href="#cb14-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-245"><a href="#cb14-245" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Wind started to increase earlier, around 2005.</span>
<span id="cb14-246"><a href="#cb14-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-247"><a href="#cb14-247" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Solar started increasing around 2012</span>
<span id="cb14-248"><a href="#cb14-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-249"><a href="#cb14-249" aria-hidden="true" tabindex="-1"></a><span class="fu"># SessionInfo</span></span>
<span id="cb14-250"><a href="#cb14-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-253"><a href="#cb14-253" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb14-254"><a href="#cb14-254" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span>
<span id="cb14-255"><a href="#cb14-255" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb14-256"><a href="#cb14-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-257"><a href="#cb14-257" aria-hidden="true" tabindex="-1"></a><span class="fu">## References</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>